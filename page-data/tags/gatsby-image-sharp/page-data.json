{"componentChunkName":"component---src-templates-tags-template-tsx","path":"/tags/gatsby-image-sharp/","result":{"pageContext":{"nodes":[{"html":"<h2 id=\"ãªã«ã“ã‚Œ\" style=\"position:relative;\"><a href=\"#%E3%81%AA%E3%81%AB%E3%81%93%E3%82%8C\" aria-label=\"ãªã«ã“ã‚Œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ãªã«ã“ã‚Œ</h2>\n<p>è‡ªåˆ†ã®ãƒ–ãƒ­ã‚°(Gatsbyè£½)ã®ãƒ“ãƒ«ãƒ‰ãŒé…ã™ãã¦Netlifyã§ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¦ã—ã¾ã†ã®ã§ã€ãƒ“ãƒ«ãƒ‰ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã‚’ã—ã¾ã—ãŸã€‚\n15åˆ†ä»¥ä¸Šã‹ã‹ã£ã¦ã„ãŸãƒ“ãƒ«ãƒ‰ãŒ7åˆ†ä»¥ä¸‹ã«ãªã‚Š50%çŸ­ç¸®ã§ããŸã®ã§ã€ãã®æ™‚ã®çŸ¥è¦‹ã‚’ã¾ã¨ã‚ã¾ã™ã€‚\nå‰²ã¨åœ°å‘³ãªä½œæ¥­ãŒå¤šã„ã§ã™ãŒã€Gatsbyã®ãƒ“ãƒ«ãƒ‰æ™‚é–“çŸ­ç¸®ã«é–¢ã™ã‚‹Tipsã‚’åŠ¹æœãŒã‚ã‚‹é †ã«ã”ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n<ul>\n<li>ğŸš€<a href=\"#1-%E7%94%BB%E5%83%8F%E7%94%9F%E6%88%90%E5%87%A6%E7%90%86%E3%82%92%E4%B8%A6%E5%88%97%E5%8C%96%E3%81%99%E3%82%8B\">1. ç”»åƒç”Ÿæˆå‡¦ç†ã‚’ä¸¦åˆ—åŒ–ã™ã‚‹</a></li>\n<li>ğŸš…<a href=\"#2-%E5%BF%85%E8%A6%81%E3%81%AA%E7%94%BB%E5%83%8F%E3%81%A0%E3%81%91%E3%82%AF%E3%82%A8%E3%83%AA%E3%81%A7%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B\">2. å¿…è¦ãªç”»åƒã ã‘ã‚¯ã‚¨ãƒªã§å–å¾—ã™ã‚‹</a></li>\n<li>ğŸš‚<a href=\"#3-%E7%94%9F%E6%88%90%E7%94%BB%E5%83%8F%E3%81%AE%E7%A8%AE%E9%A1%9E%E3%82%92%E6%B8%9B%E3%82%89%E3%81%99\">3. ç”Ÿæˆç”»åƒã®ç¨®é¡ã‚’æ¸›ã‚‰ã™</a></li>\n<li>ğŸš—<a href=\"#4-%E7%94%BB%E5%83%8F%E3%81%AE%E7%B8%A6%E6%A8%AA%E3%82%B5%E3%82%A4%E3%82%BA%E3%82%92%E6%9C%80%E9%81%A9%E5%8C%96%E3%81%99%E3%82%8B\">4. ç”»åƒã®ç¸¦æ¨ªã‚µã‚¤ã‚ºã‚’æœ€é©åŒ–ã™ã‚‹</a></li>\n<li>ğŸš´ğŸ»<a href=\"#5-%E7%94%BB%E5%83%8F%E3%81%AE%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%B5%E3%82%A4%E3%82%BA%E3%82%92%E5%9C%A7%E7%B8%AE%E3%81%99%E3%82%8B\">5. ç”»åƒã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã‚’åœ§ç¸®ã™ã‚‹</a></li>\n<li>ğŸƒğŸ»<a href=\"#6-%E7%94%9F%E6%88%90%E3%81%99%E3%82%8B%E7%94%BB%E5%83%8F%E3%82%92%E3%82%B7%E3%83%B3%E3%83%97%E3%83%AB%EF%BC%86%E4%BD%8E%E3%82%AF%E3%82%AA%E3%83%AA%E3%83%86%E3%82%A3%E3%81%AB%E3%81%99%E3%82%8B\">6. ç”Ÿæˆã™ã‚‹ç”»åƒã‚’ã‚·ãƒ³ãƒ—ãƒ«ï¼†ä½ã‚¯ã‚ªãƒªãƒ†ã‚£ã«ã™ã‚‹</a></li>\n<li>ğŸŠğŸ»<a href=\"#7-netlify-plugin-gatsby-cache%E3%82%92%E4%BD%BF%E3%81%86\">7. netlify-plugin-gatsby-cacheã‚’ä½¿ã†</a></li>\n<li>ğŸ’<a href=\"#%E7%95%AA%E5%A4%96%E7%B7%A81-circle-ci%E3%81%A7%E3%83%93%E3%83%AB%E3%83%89%E3%81%97%E3%81%A6netlify%E3%81%AB%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4%E3%81%99%E3%82%8B\">ç•ªå¤–ç·¨1: Circle CIã§ãƒ“ãƒ«ãƒ‰ã—ã¦Netlifyã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹</a></li>\n</ul>\n<h2 id=\"ãªãœãƒ“ãƒ«ãƒ‰ãŒé…ã„ã®ã‹--ç”»åƒç”Ÿæˆã«æ™‚é–“ãŒã‹ã‹ã£ã¦ã„ã‚‹\" style=\"position:relative;\"><a href=\"#%E3%81%AA%E3%81%9C%E3%83%93%E3%83%AB%E3%83%89%E3%81%8C%E9%81%85%E3%81%84%E3%81%AE%E3%81%8B--%E7%94%BB%E5%83%8F%E7%94%9F%E6%88%90%E3%81%AB%E6%99%82%E9%96%93%E3%81%8C%E3%81%8B%E3%81%8B%E3%81%A3%E3%81%A6%E3%81%84%E3%82%8B\" aria-label=\"ãªãœãƒ“ãƒ«ãƒ‰ãŒé…ã„ã®ã‹  ç”»åƒç”Ÿæˆã«æ™‚é–“ãŒã‹ã‹ã£ã¦ã„ã‚‹ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ãªãœãƒ“ãƒ«ãƒ‰ãŒé…ã„ã®ã‹ â†’ ç”»åƒç”Ÿæˆã«æ™‚é–“ãŒã‹ã‹ã£ã¦ã„ã‚‹</h2>\n<p>ãƒ“ãƒ«ãƒ‰æ™‚é–“ã®å†…è¨³ã‚’è¦‹ãŸã¨ã“ã‚ã€<code class=\"language-text\">Generating image thumbnails</code>ã«10åˆ†ä»¥ä¸Šã‹ã‹ã£ã¦ãŠã‚Šå¤§åŠã‚’ç· ã‚ã¦ã„ã¾ã—ãŸã€‚\nã“ã‚Œã¯<a href=\"https://www.gatsbyjs.org/packages/gatsby-image/\">gatsby-image</a>ã§æ§˜ã€…ãªãƒ–ãƒ©ã‚¦ã‚¶å¹…ã«æœ€é©åŒ–ã™ã‚‹ãŸã‚ã«ã€ã‚µã‚¤ã‚ºé•ã„ã®ç”»åƒã‚’è¤‡æ•°æšç”Ÿæˆã™ã‚‹ãŸã‚ã®å‡¦ç†ã§ã™ã€‚</p>\n<p>gatsby-imageã¾ã‚ã‚Šã®ãƒ“ãƒ«ãƒ‰ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã«ã¤ã„ã¦ã€æ—¥æœ¬ã®è¨˜äº‹ã‚’ã‚ã¾ã‚Šè¦‹ã‹ã‘ã¾ã›ã‚“ãŒã€\nè‹±èªã®è¨˜äº‹ã‚„GitHubã§ã¯ã€ç”»åƒç”ŸæˆãŒé…ã„ã¨ã„ã†è¨˜äº‹ã‚’ã¡ã‚‰ã»ã‚‰è¦‹ã‹ã‘ã¾ã—ãŸã€‚</p>\n<ul>\n<li><a href=\"https://www.netlify.com/blog/2020/02/25/gatsby-build-speed-improvements-with-parallel-image-processing/\">Improve Gatsby Build Speeds With Parallel Image Processing</a></li>\n<li><a href=\"https://github.com/gatsbyjs/gatsby/issues/8056\">Gatsby build on Netlify fails(Image generation): Command did not finish within the time limit Â· Issue #8056 Â· gatsbyjs/gatsby</a></li>\n<li><a href=\"https://github.com/gatsbyjs/gatsby/issues/23033\">Gatsby stuck on generating image thumbnails Â· Issue #23033 Â· gatsbyjs/gatsby</a></li>\n</ul>\n<p>ã‚ã¨Gatsbyã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã‚‚ç”»åƒã®å–ã‚Šæ‰±ã„ã«ã¤ã„ã¦è¨€åŠã•ã‚Œã¦ã„ã¾ã™ã€‚</p>\n<ul>\n<li><a href=\"https://www.gatsbyjs.org/docs/preoptimizing-images/\">Preoptimizing Your Images | GatsbyJS</a></li>\n</ul>\n<p>ãã®ãŸã‚ã€æœ¬è¨˜äº‹ã§ã¯ã€ã„ã‹ã«ç”»åƒç”Ÿæˆå‡¦ç†ã®æ™‚é–“ã‚’çŸ­ç¸®ã™ã‚‹ã‹ã‚’ãƒ¡ã‚¤ãƒ³ã«Tipsã‚’ç´¹ä»‹ã—ã¦ã„ãã¾ã™ã€‚</p>\n<h2 id=\"1-ç”»åƒç”Ÿæˆå‡¦ç†ã‚’ä¸¦åˆ—åŒ–ã™ã‚‹\" style=\"position:relative;\"><a href=\"#1-%E7%94%BB%E5%83%8F%E7%94%9F%E6%88%90%E5%87%A6%E7%90%86%E3%82%92%E4%B8%A6%E5%88%97%E5%8C%96%E3%81%99%E3%82%8B\" aria-label=\"1 ç”»åƒç”Ÿæˆå‡¦ç†ã‚’ä¸¦åˆ—åŒ–ã™ã‚‹ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. ç”»åƒç”Ÿæˆå‡¦ç†ã‚’ä¸¦åˆ—åŒ–ã™ã‚‹</h2>\n<p><a href=\"https://github.com/netlify/gatsby-parallel-runner\">gatsby-parallel-runner</a>ã§ç”»åƒç”Ÿæˆå‡¦ç†ã‚’ä¸¦åˆ—åŒ–ã—ã¾ã™ã€‚\nä½•ã‚’ã‚„ã£ã¦ã„ã‚‹ã‹ã¨ã„ã†ã¨ã€gatsby buildã§ä¸€ç•ªé‡ã„ç”»åƒç”Ÿæˆå‡¦ç†ã‚’ã€<a href=\"https://console.cloud.google.com/\">Google Cloud Platform</a>(ä»¥é™GCP)ã«æŠ•ã’ã¦ã€ä¸¦åˆ—ã§å‡¦ç†ã—ã¦çµæœã‚’å—ã‘å–ã‚‹ã¨ã„ã†ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã™ã€‚GCPã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒå¿…è¦ã§ã™ãŒã€ã“ã®æ–¹æ³•ãŒä¸€ç•ªæ¥½ã«åŠ‡çš„ã«ãƒ“ãƒ«ãƒ‰æ™‚é–“ã‚’çŸ­ç¸®ã§ãã¾ã™ã€‚\n<a href=\"https://www.netlify.com/blog/2020/02/25/gatsby-build-speed-improvements-with-parallel-image-processing/\">Netlifyã®è¨˜äº‹</a>ã§ã¯6åˆ†21ç§’ã‹ã‹ã£ã¦ã„ãŸãƒ“ãƒ«ãƒ‰ãŒ3åˆ†22ç§’ã€ãŠã‚ˆãåŠåˆ†ã«ãªã£ãŸãã†ã§ã™ã€‚</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a917a9b6980544d6e3f6ad9fa2793ab1/01fc7/parallel-speed-comparison.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAABAAC/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAFmV1wOZH//xAAZEAEAAwEBAAAAAAAAAAAAAAABAAMEEBH/2gAIAQEAAQUCa9HhXoQNEY8//8QAGBEAAgMAAAAAAAAAAAAAAAAAAAERElH/2gAIAQMBAT8BlFlh/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAHBAAAQMFAAAAAAAAAAAAAAAAAQADIRETIIGR/9oACAEBAAY/Aq3RxS4BpSRh/8QAGhABAAMBAQEAAAAAAAAAAAAAAQARMZEhUf/aAAgBAQABPyG0HjhNzS+F4a7UTevZYxewWtZ//9oADAMBAAIAAwAAABALz//EABYRAQEBAAAAAAAAAAAAAAAAAAABYf/aAAgBAwEBPxDBQ//EABYRAAMAAAAAAAAAAAAAAAAAAAABEf/aAAgBAgEBPxB0jP/EAB0QAQACAgIDAAAAAAAAAAAAAAEAIRFxQVFhscH/2gAIAQEAAT8QuEhfRz9hfnziPNQQN5pAK1iUFfWUQADSIgZTbP/Z'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/a917a9b6980544d6e3f6ad9fa2793ab1/ba381/parallel-speed-comparison.webp 200w,\n/static/a917a9b6980544d6e3f6ad9fa2793ab1/7f61c/parallel-speed-comparison.webp 400w,\n/static/a917a9b6980544d6e3f6ad9fa2793ab1/d00b9/parallel-speed-comparison.webp 800w,\n/static/a917a9b6980544d6e3f6ad9fa2793ab1/92f8c/parallel-speed-comparison.webp 1200w,\n/static/a917a9b6980544d6e3f6ad9fa2793ab1/fad48/parallel-speed-comparison.webp 1600w,\n/static/a917a9b6980544d6e3f6ad9fa2793ab1/919bf/parallel-speed-comparison.webp 3200w\"\n              sizes=\"(max-width: 800px) 100vw, 800px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/a917a9b6980544d6e3f6ad9fa2793ab1/e07e9/parallel-speed-comparison.jpg 200w,\n/static/a917a9b6980544d6e3f6ad9fa2793ab1/066f9/parallel-speed-comparison.jpg 400w,\n/static/a917a9b6980544d6e3f6ad9fa2793ab1/4b190/parallel-speed-comparison.jpg 800w,\n/static/a917a9b6980544d6e3f6ad9fa2793ab1/e5166/parallel-speed-comparison.jpg 1200w,\n/static/a917a9b6980544d6e3f6ad9fa2793ab1/b17f8/parallel-speed-comparison.jpg 1600w,\n/static/a917a9b6980544d6e3f6ad9fa2793ab1/01fc7/parallel-speed-comparison.jpg 3200w\"\n            sizes=\"(max-width: 800px) 100vw, 800px\"\n            type=\"image/jpeg\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/a917a9b6980544d6e3f6ad9fa2793ab1/4b190/parallel-speed-comparison.jpg\"\n            alt=\"parallel speed comparison\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>è¨­å®šæ–¹æ³•ã¯<a href=\"https://www.netlify.com/blog/2020/02/25/gatsby-build-speed-improvements-with-parallel-image-processing/\">Netlifyã®è¨˜äº‹</a>ã«ã‚­ãƒ£ãƒ—ãƒãƒ£ä»˜ãã§è©³ã—ãè¼‰ã£ã¦ã„ã‚‹ã®ã§ã€ãã¡ã‚‰ã‚’ã”è¦§ã„ãŸã ã‘ã‚Œã°ç°¡å˜ã«è¨­å®šã§ãã‚‹ã¨æ€ã„ã¾ã™ã€‚GCPã®ç’°å¢ƒã‚’CLIã§æ§‹ç¯‰ã—ã¦Netlifyã«ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã™ã‚Œã°ã™ãã«ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>\n<h2 id=\"2-å¿…è¦ãªç”»åƒã ã‘ã‚¯ã‚¨ãƒªã§å–å¾—ã™ã‚‹\" style=\"position:relative;\"><a href=\"#2-%E5%BF%85%E8%A6%81%E3%81%AA%E7%94%BB%E5%83%8F%E3%81%A0%E3%81%91%E3%82%AF%E3%82%A8%E3%83%AA%E3%81%A7%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B\" aria-label=\"2 å¿…è¦ãªç”»åƒã ã‘ã‚¯ã‚¨ãƒªã§å–å¾—ã™ã‚‹ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. å¿…è¦ãªç”»åƒã ã‘ã‚¯ã‚¨ãƒªã§å–å¾—ã™ã‚‹</h2>\n<p>ãƒ•ã‚£ãƒ«ã‚¿ã‚’å…¨ãæŒ‡å®šã—ãªã„ã‚¯ã‚¨ãƒªã¯ã€å…¨ã¦ã®ç”»åƒã‚’å–å¾—ã—ã¦ã—ã¾ã†ã®ã§ãƒ“ãƒ«ãƒ‰æ™‚é–“ãŒå¤§å¹…ã«å¢—ãˆã¦ã—ã¾ã„ã¾ã™ã€‚\nãã®ãŸã‚ã€ã‚¯ã‚¨ãƒªã§å–å¾—ã™ã‚‹ç”»åƒã¯ä»–ç”»åƒã¨ãƒ•ã‚©ãƒ«ãƒ€ã‚’åˆ†ã‘ã¦ã€ã‚¯ã‚¨ãƒªã®ãƒ•ã‚£ãƒ«ã‚¿æ¡ä»¶ã‚’æŒ‡å®šã™ã‚‹ãªã‚Šã—ã¾ã—ã‚‡ã†ã€‚\nãã†ã™ã‚‹ã“ã¨ã§ä¸å¿…è¦ã«ç”»åƒã‚’å–å¾—ã›ãšã«æ¸ˆã¿ã€ãƒ“ãƒ«ãƒ‰æ™‚é–“ã‚’çŸ­ç¸®ã§ãã¾ã™ã€‚</p>\n<div class=\"gatsby-code-title\">ãƒ•ã‚£ãƒ«ã‚¿æ¡ä»¶ã‚’ä»˜ã‘ã¦å¿…è¦ãªç”»åƒã ã‘å–å¾—ã™ã‚‹</div>\n<div class=\"gatsby-highlight\" data-language=\"diff\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-diff line-numbers\"><code class=\"language-diff\">query {\n<span class=\"token deleted-sign deleted\"><span class=\"token prefix deleted\">-</span>  // å…¨ç”»åƒã‚’å–å¾—ã—ã¦ã—ã¾ã†\n<span class=\"token prefix deleted\">-</span>  allFile {\n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>  // æ¤œç´¢æ¡ä»¶ã‚’æŒ‡å®šã—ã¦å¿…è¦ãªç”»åƒã ã‘å–å¾—ã™ã‚‹ã‚ˆã†ã«ã™ã‚‹\n<span class=\"token prefix inserted\">+</span>  allFile(filter: {relativePath: {regex: \"/^thumbnail/*/\"}}) {\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>   edges {\n<span class=\"token prefix unchanged\"> </span>     node {\n<span class=\"token prefix unchanged\"> </span>       childImageSharp {\n<span class=\"token prefix unchanged\"> </span>         fluid {\n<span class=\"token prefix unchanged\"> </span>           ...GatsbyImageSharpFluid\n<span class=\"token prefix unchanged\"> </span>         }\n<span class=\"token prefix unchanged\"> </span>       }\n<span class=\"token prefix unchanged\"> </span>     }\n<span class=\"token prefix unchanged\"> </span>   }\n<span class=\"token prefix unchanged\"> </span> }\n</span>}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<h3 id=\"ã‚¯ã‚¨ãƒªã®ãƒ•ã‚£ãƒ«ã‚¿æ¡ä»¶ã‚’contextçµŒç”±ã§æŒ‡å®šã™ã‚‹\" style=\"position:relative;\"><a href=\"#%E3%82%AF%E3%82%A8%E3%83%AA%E3%81%AE%E3%83%95%E3%82%A3%E3%83%AB%E3%82%BF%E6%9D%A1%E4%BB%B6%E3%82%92context%E7%B5%8C%E7%94%B1%E3%81%A7%E6%8C%87%E5%AE%9A%E3%81%99%E3%82%8B\" aria-label=\"ã‚¯ã‚¨ãƒªã®ãƒ•ã‚£ãƒ«ã‚¿æ¡ä»¶ã‚’contextçµŒç”±ã§æŒ‡å®šã™ã‚‹ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ã‚¯ã‚¨ãƒªã®ãƒ•ã‚£ãƒ«ã‚¿æ¡ä»¶ã‚’ContextçµŒç”±ã§æŒ‡å®šã™ã‚‹</h3>\n<p>ä¾‹ãˆã°ã€ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã®ä¸Šéƒ¨ã«ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ãŸï¼“ã¤è¨˜äº‹ã®ã‚µãƒ ãƒã‚¤ãƒ«ä»˜ãã§è¡¨ç¤ºã™ã‚‹å ´åˆã€\n3ã¤ã®ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒã ã‘å–å¾—ã™ã‚‹ã‚¯ã‚¨ãƒªã‚’å®šç¾©ã—ãŸã„ã¨ã“ã‚ã§ã™ãŒã€ã‚¯ã‚¨ãƒªã«ç”»åƒã®ãƒ‘ã‚¹ã‚’ãƒ•ã‚£ãƒ«ã‚¿æ¡ä»¶ã¨ã—ã¦ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã—ãŸãã¯ãªã„ã®ã§ã€ä¸€æ—¦ã€å…¨ã¦ã®ã‚µãƒ ãƒã‚¤ãƒ«ã‚’ã‚¯ã‚¨ãƒªã§å–å¾—ã—ã¦ã€JS(ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ)ä¸­ã§3ã¤ã«ãƒ•ã‚£ãƒ«ã‚¿ã™ã‚‹ã‚ˆã†ãªã‚±ãƒ¼ã‚¹ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®å ´åˆã€ä¸å¿…è¦ãªç”»åƒã‚‚å–å¾—ã—ã¦ã—ã¾ã†ã®ã§ãƒ“ãƒ«ãƒ‰æ™‚é–“ãŒå¢—ãˆã¾ã™ã€‚</p>\n<p>StaticQueryãªã©ã¯ã€ãã®åã®é€šã‚ŠStaticãªã®ã§JSä¸­ã®å¤‰æ•°ã‚’ãƒ•ã‚£ãƒ«ã‚¿æ¡ä»¶ã¨ã—ã¦ä½¿ã†ã“ã¨ãŒã§ãã¾ã›ã‚“ãŒã€\nãƒšãƒ¼ã‚¸ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«æŒ‡å®šã—ã¦ã„ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚¯ã‚¨ãƒªã§ã¯Contextã®å€¤ãŒãƒ•ã‚£ãƒ«ã‚¿æ¡ä»¶ã¨ã—ã¦ä½¿ãˆã¾ã™ã€‚\nã“ã‚Œã‚’åˆ©ç”¨ã—ã¦ä»¥ä¸‹ã®ã‚ˆã†ã«ã€3ã¤ã®ç”»åƒã ã‘å–å¾—ã™ã‚‹ã‚¯ã‚¨ãƒªã‚’å®šç¾©ã§ãã€ä¸å¿…è¦ã«ç”»åƒã‚’ç”Ÿæˆã›ãšã«æ¸ˆã¿ã€ãƒ“ãƒ«ãƒ‰æ™‚é–“ã‚’çŸ­ç¸®ã§ãã¾ã™ã€‚</p>\n<div class=\"gatsby-code-title\">config/featured-posts.js(ã‚¯ã‚¨ãƒªã®ãƒ•ã‚£ãƒ«ã‚¿æ¡ä»¶ã‚’è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«å®šç¾©ã™ã‚‹)</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token comment\">// è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§3ã¤ã®ç”»åƒãƒ‘ã‚¹ã‚’æŒ‡å®šã™ã‚‹</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">featuredPosts</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">'/blog/2019/05/09'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'/blog/2018/05/08'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'/blog/2016/03/18'</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<div class=\"gatsby-code-title\">gatsby-node.js(Contextã«ã‚¯ã‚¨ãƒªã®ãƒ•ã‚£ãƒ«ã‚¿æ¡ä»¶ã‚’æŒ‡å®šã™ã‚‹)</div>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"gatsby-highlight-code-line\"><span class=\"token comment\">// è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> featuredPosts <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./config/featured-posts.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></span>\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">createPages</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> graphql<span class=\"token punctuation\">,</span> actions <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ä¸­ç•¥</span>\n  \n<span class=\"gatsby-highlight-code-line\">  <span class=\"token comment\">// ãƒšãƒ¼ã‚¸ç”Ÿæˆæ™‚ã«Contextã¨ã—ã¦æ¸¡ã™</span></span>  <span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    path<span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">component</span><span class=\"token operator\">:</span> postTemplate<span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">context</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">      <span class=\"token literal-property property\">featuredPostPathList</span><span class=\"token operator\">:</span> featuredPosts<span class=\"token punctuation\">,</span></span>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// ä¸­ç•¥</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<div class=\"gatsby-code-title\">src/templates/post.jsx(Contextã«æŒ‡å®šã—ãŸå€¤ã‚’ã‚¯ã‚¨ãƒªã®ãƒ•ã‚£ãƒ«ã‚¿æ¡ä»¶ã«æŒ‡å®šã™ã‚‹)</div>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"jsx\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jsx line-numbers\"><code class=\"language-jsx\"><span class=\"token comment\">// ä¸­ç•¥</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> query <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\"></span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token string\">  query($featuredPostPathList: [String]) {</span></span><span class=\"gatsby-highlight-code-line\"><span class=\"token string\">    allMarkdownRemark(filter: { frontmatter: { path: { in: $featuredPostPathList } } }) {</span></span><span class=\"token string\">      edges {</span>\n<span class=\"token string\">        node {</span>\n<span class=\"token string\">          frontmatter {</span>\n<span class=\"token string\">            cover {</span>\n<span class=\"token string\">              childImageSharp {</span>\n<span class=\"token string\">                fluid {</span>\n<span class=\"token string\">                  ...GatsbyImageSharpFluid</span>\n<span class=\"token string\">                }</span>\n<span class=\"token string\">              }</span>\n<span class=\"token string\">            }</span>\n<span class=\"token string\">          }</span>\n<span class=\"token string\">        }</span>\n<span class=\"token string\">      }</span>\n<span class=\"token string\">    }</span>\n<span class=\"token string\">  }</span>\n<span class=\"token string\"></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// ä¸­ç•¥</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<p>ãªãŠ<code class=\"language-text\">src/pages/index.jsx</code>ã®ã‚ˆã†ã«<code class=\"language-text\">gatsby-node.js</code>ã§æ˜ç¤ºçš„ã«ãƒšãƒ¼ã‚¸ç”Ÿæˆã—ãªã„ã‚ˆã†ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã‚‚ã€ä»¥ä¸‹ã®ã‚ˆã†ã«<code class=\"language-text\">gatsby-node.js</code>ã®<code class=\"language-text\">onCreatePage</code>ã§ãƒšãƒ¼ã‚¸ã‚’å†ç”Ÿæˆã™ã‚‹ã“ã¨ã§Contextã‚’æŒ‡å®šã§ãã¾ã™ã€‚</p>\n<div class=\"gatsby-code-title\">gatsby-node.js</div>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">exports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onCreatePage</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> page<span class=\"token punctuation\">,</span> actions <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createPage<span class=\"token punctuation\">,</span> deletePage <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> actions\n\n  <span class=\"token comment\">// ãƒ«ãƒ¼ãƒˆãƒšãƒ¼ã‚¸ã®å ´åˆã®ã¿å‡¦ç†ç¶™ç¶š</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>page<span class=\"token punctuation\">.</span>path <span class=\"token operator\">!==</span> <span class=\"token string\">'/'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// ã„ã£ãŸã‚“ãƒ«ãƒ¼ãƒˆãƒšãƒ¼ã‚¸ã‚’å‰Šé™¤</span>\n  <span class=\"token function\">deletePage</span><span class=\"token punctuation\">(</span>page<span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\">// pageã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚‚ã¨ã«ãƒ«ãƒ¼ãƒˆãƒšãƒ¼ã‚¸ã‚’å†ç”Ÿæˆ</span>\n  <span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token operator\">...</span>page<span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">context</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token operator\">...</span>page<span class=\"token punctuation\">.</span>context<span class=\"token punctuation\">,</span>\n<span class=\"gatsby-highlight-code-line\">      <span class=\"token comment\">// Contextã«ã‚¯ã‚¨ãƒªã®ãƒ•ã‚£ãƒ«ã‚¿æ¡ä»¶ã‚’æŒ‡å®š</span></span><span class=\"gatsby-highlight-code-line\">      <span class=\"token literal-property property\">featuredPostPathList</span><span class=\"token operator\">:</span> featuredPosts<span class=\"token punctuation\">,</span></span>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<h2 id=\"3-ç”Ÿæˆç”»åƒã®ç¨®é¡ã‚’æ¸›ã‚‰ã™\" style=\"position:relative;\"><a href=\"#3-%E7%94%9F%E6%88%90%E7%94%BB%E5%83%8F%E3%81%AE%E7%A8%AE%E9%A1%9E%E3%82%92%E6%B8%9B%E3%82%89%E3%81%99\" aria-label=\"3 ç”Ÿæˆç”»åƒã®ç¨®é¡ã‚’æ¸›ã‚‰ã™ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. ç”Ÿæˆç”»åƒã®ç¨®é¡ã‚’æ¸›ã‚‰ã™</h2>\n<p>ä»¥ä¸‹ã®ã‚ˆã†ã«åŒã˜ç”»åƒã§ã‚‚ã€è¨˜äº‹åŸ‹ã‚è¾¼ã¿ç”¨ã€OGPç”»åƒç”¨ãªã©ã«é•ã†ç¸¦æ¨ªã‚µã‚¤ã‚ºã€ã‚¯ã‚ªãƒªãƒ†ã‚£ã‚’æŒ‡å®šã—ã¦ã„ã‚‹ã¨ã€ç”»åƒç”Ÿæˆæšæ•°ãŒå¢—ãˆã¦ã€ãƒ“ãƒ«ãƒ‰æ™‚é–“ã‚‚å¢—ãˆã¦ã—ã¾ã„ã¾ã™ã€‚\nå°‘ã—ã®é•ã„ã§ã‚ã‚Œã°ã€ã‚ã‚‹ç¨‹åº¦å¦¥å”ã—ã¦åŒã˜ç¸¦æ¨ªã‚µã‚¤ã‚ºã€ã‚¯ã‚ªãƒªãƒ†ã‚£ã‚’æŒ‡å®šã—ã¦ã€ç”Ÿæˆç”»åƒæšæ•°ã‚’æ¸›ã‚‰ã—ã¾ã—ã‚‡ã†ã€‚\nã“ã‚Œã«ã‚ˆã‚Šã€å¤§å¹…ã«ãƒ“ãƒ«ãƒ‰æ™‚é–“ã‚’çŸ­ç¸®ã§ãã¾ã™ã€‚</p>\n<div class=\"gatsby-code-title\">ç¸¦æ¨ªå¹…ã€ã‚¯ã‚ªãƒªãƒ†ã‚£ã‚’çµ±ä¸€ã—ã¦ç”Ÿæˆç”»åƒæšæ•°ã‚’æ¸›ã‚‰ã™</div>\n<div class=\"gatsby-highlight\" data-language=\"diff\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-diff line-numbers\"><code class=\"language-diff\"><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span> query {\n<span class=\"token prefix unchanged\"> </span>   images: allFile(filter: {relativePath: {regex: \"/^thumbnail/*/\"}}) {\n<span class=\"token prefix unchanged\"> </span>     edges {\n<span class=\"token prefix unchanged\"> </span>       node {\n<span class=\"token prefix unchanged\"> </span>         childImageSharp {\n</span><span class=\"token deleted-sign deleted\"><span class=\"token prefix deleted\">-</span>            // è¨˜äº‹ã®æœ€å¤§å¹…ã«ã‚ã‚ã›ãŸå°‘ã—å°ã•ã‚ã§ä½å“è³ªãªç”»åƒã‚’å–å¾—\n<span class=\"token prefix deleted\">-</span>            fluid(maxWidth: 800, quality: 50, pngQuality: 50) {\n</span><span class=\"token inserted-sign inserted\"><span class=\"token prefix inserted\">+</span>            // ç”Ÿæˆç”»åƒæšæ•°ã‚’æ¸›ã‚‰ã™ãŸã‚ã«ã€ã‚ãˆã¦ç¸¦æ¨ªå¹…ã€ã‚¯ã‚ªãƒªãƒ†ã‚£ã‚’ã‚µãƒ ãƒã‚¤ãƒ«ã«åˆã‚ã›ã‚‹\n<span class=\"token prefix inserted\">+</span>            fluid(maxWidth: 1200, quality: 90, pngQuality: 90) {\n</span><span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span>             ...GatsbyImageSharpFluid\n<span class=\"token prefix unchanged\"> </span>           }\n<span class=\"token prefix unchanged\"> </span>         }\n<span class=\"token prefix unchanged\"> </span>       }\n<span class=\"token prefix unchanged\"> </span>     }\n<span class=\"token prefix unchanged\"> </span>   }\n<span class=\"token prefix unchanged\"> </span> }\n</span>\n<span class=\"token unchanged\"><span class=\"token prefix unchanged\"> </span> // OGPç”»åƒç”¨ã«å°‘ã—å¤§ãã‚ã§é«˜å“è³ªãªç”»åƒã‚’å–å¾—\n<span class=\"token prefix unchanged\"> </span> query {\n<span class=\"token prefix unchanged\"> </span>   images: allFile(filter: {relativePath: {regex: \"/^thumbnail/*/\"}}) {\n<span class=\"token prefix unchanged\"> </span>     edges {\n<span class=\"token prefix unchanged\"> </span>       node {\n<span class=\"token prefix unchanged\"> </span>         childImageSharp {\n<span class=\"token prefix unchanged\"> </span>           fluid(maxWidth: 1200, quality: 90, pngQuality: 90) {\n<span class=\"token prefix unchanged\"> </span>             ...GatsbyImageSharpFluid\n<span class=\"token prefix unchanged\"> </span>           }\n<span class=\"token prefix unchanged\"> </span>         }\n<span class=\"token prefix unchanged\"> </span>       }\n<span class=\"token prefix unchanged\"> </span>     }\n<span class=\"token prefix unchanged\"> </span>   }\n<span class=\"token prefix unchanged\"> </span> }</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<h2 id=\"4-ç”»åƒã®ç¸¦æ¨ªã‚µã‚¤ã‚ºã‚’æœ€é©åŒ–ã™ã‚‹\" style=\"position:relative;\"><a href=\"#4-%E7%94%BB%E5%83%8F%E3%81%AE%E7%B8%A6%E6%A8%AA%E3%82%B5%E3%82%A4%E3%82%BA%E3%82%92%E6%9C%80%E9%81%A9%E5%8C%96%E3%81%99%E3%82%8B\" aria-label=\"4 ç”»åƒã®ç¸¦æ¨ªã‚µã‚¤ã‚ºã‚’æœ€é©åŒ–ã™ã‚‹ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. ç”»åƒã®ç¸¦æ¨ªã‚µã‚¤ã‚ºã‚’æœ€é©åŒ–ã™ã‚‹</h2>\n<p>ç”»åƒã®ã‚µã‚¤ã‚ºãŒå¤§ãã„ã¨ãƒ“ãƒ«ãƒ‰æ™‚é–“ã¯æŒ‡æ•°é–¢æ•°çš„ã«å¢—åŠ ã—ã¾ã™ã€‚\nãã®ãŸã‚ã€è¡¨ç¤ºå¹…ã«ä½µã›ã¦ç”»åƒã®ç¸¦æ¨ªæ¯”ã‚’ç¸®å°ã—ã¾ã—ã‚‡ã†ã€‚\nä¾‹ãˆã°è¨˜äº‹ä¸­ã§æœ€å¤§800pxã§è¡¨ç¤ºã™ã‚‹ã‚ˆã†ãªå ´åˆã€Retinaå¯¾å¿œã‚‚è€ƒæ…®ã™ã‚‹ã¨æœ€å¤§å¹…ã¯800px * 2 = 1600pxã§ååˆ†ã§ã™ã€‚\nãã®ãŸã‚ãƒ“ãƒ«ãƒ‰å‰ã«1600pxã‚ˆã‚Šå¹…ãŒå¤§ãã„ç”»åƒã¯å…¨ã¦1600pxã«ç¸®å°ã—ã¾ã—ã‚‡ã†ã€‚\n<a href=\"https://github.com/lovell/sharp\">Sharp</a>ã¨ã„ã†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ãˆã°ã§ãã¾ã™ã€‚\nä»¥ä¸‹ã®ã‚ˆã†ãªã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®šç¾©ã—ã¦ã€package.jsonã«<code class=\"language-text\">optimizeImages</code>ã®ã‚ˆã†ãªnpm scriptsã‚’å®šç¾©ã—ã¾ã—ã‚‡ã†ã€‚</p>\n<div class=\"gatsby-code-title\">scripts/optimize-images.js(ç”»åƒç¸¦æ¨ªã‚µã‚¤ã‚ºæœ€é©åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆ)</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> sharp <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">sharp</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> glob <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">glob</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> fs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">fs</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// æœ€é©åŒ–ã—ãŸã„ç”»åƒã®ãƒ‘ã‚¹ã‚’æ­£è¦è¡¨ç¾ã§æŒ‡å®š</span>\n<span class=\"token keyword\">const</span> matches <span class=\"token operator\">=</span> glob<span class=\"token punctuation\">.</span><span class=\"token function\">sync</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">src/pages/**/*.{png,jpg,jpeg}</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// Retinaã‚’è€ƒæ…®ã—2å€ã«ã™ã‚‹</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">MAX_WIDTH</span> <span class=\"token operator\">=</span> <span class=\"token number\">800</span> <span class=\"token operator\">*</span> <span class=\"token number\">2</span>\n\nPromise<span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span>\n  matches<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token parameter\">match</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> stream <span class=\"token operator\">=</span> <span class=\"token function\">sharp</span><span class=\"token punctuation\">(</span>match<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">const</span> info <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> stream<span class=\"token punctuation\">.</span><span class=\"token function\">metadata</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>info<span class=\"token punctuation\">.</span>width <span class=\"token operator\">&lt;=</span> <span class=\"token constant\">MAX_WIDTH</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">// ç”»åƒå¹…ã‚’MAX_WIDTHã¾ã§ç¸®å°ã—ã¦ä¸Šæ›¸ã</span>\n    <span class=\"token keyword\">const</span> outputBuffer <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> stream<span class=\"token punctuation\">.</span><span class=\"token function\">resize</span><span class=\"token punctuation\">(</span><span class=\"token constant\">MAX_WIDTH</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBuffer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    fs<span class=\"token punctuation\">.</span><span class=\"token function\">writeFileSync</span><span class=\"token punctuation\">(</span>match<span class=\"token punctuation\">,</span> outputBuffer<span class=\"token punctuation\">)</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">success resize markdown image. </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>info<span class=\"token punctuation\">.</span>width<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> -> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">MAX_WIDTH</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">, </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>match<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token string\">'Success'</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<div class=\"gatsby-code-title\">package.jsonã®npm</div>\n<div class=\"gatsby-highlight\" data-language=\"jsonscripts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jsonscripts line-numbers\"><code class=\"language-jsonscripts\">  &quot;scripts&quot;: {\n    // ä¸­ç•¥\n    &quot;optimizeImages&quot;: &quot;node ./scripts/optimize-images.js&quot;,\n    // ä¸­ç•¥\n  }</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<p>ã“ã†ã™ã‚Œã°<code class=\"language-text\">npm run optimizeImages</code>ã§ç”»åƒã®ç¸¦æ¨ªã‚µã‚¤ã‚ºã‚’æœ€é©åŒ–ã§ãã¾ã™ã€‚</p>\n<h2 id=\"5-ç”»åƒã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã‚’åœ§ç¸®ã™ã‚‹\" style=\"position:relative;\"><a href=\"#5-%E7%94%BB%E5%83%8F%E3%81%AE%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%B5%E3%82%A4%E3%82%BA%E3%82%92%E5%9C%A7%E7%B8%AE%E3%81%99%E3%82%8B\" aria-label=\"5 ç”»åƒã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã‚’åœ§ç¸®ã™ã‚‹ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. ç”»åƒã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã‚’åœ§ç¸®ã™ã‚‹</h2>\n<p>å†™çœŸã¯ç„¡é§„ã«é«˜ç”»è³ªã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒå¤§ãããªã‚ŠãŒã¡ã§ã™ã€‚\nã“ã®å ´åˆã€<a href=\"https://github.com/imagemin/imagemin\">imagemin</a>ã‚’ä½¿ã£ã¦ç”»åƒã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã‚’åœ§ç¸®ã—ã¾ã—ã‚‡ã†ã€‚\nä»¥ä¸‹ã®ã‚ˆã†ãªã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®šç¾©ã—ã¦ã€package.jsonã«<code class=\"language-text\">compressImages</code>ã®ã‚ˆã†ãªnpm scriptsã‚’å®šç¾©ã—ã¾ã—ã‚‡ã†ã€‚\njpegã¯<a href=\"https://www.npmjs.com/package/imagemin-mozjpeg\">imagemin-mozjpeg</a>ã€pngã¯<a href=\"https://www.npmjs.com/package/imagemin-pngquant\">imagemin-pngquant</a>ã‚’ä½¿ãˆã°ç”»è³ªã‚’ãã‚Œã»ã©è½ã¨ã™ã“ã¨ãªãåœ§ç¸®ã§ãã¾ã™ã€‚</p>\n<div class=\"gatsby-code-title\">scripts/compress-images(ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºæœ€é©åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆ)</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> glob <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">glob</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> fs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">fs</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"path\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> imagemin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'imagemin'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> imageminMozjpeg <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'imagemin-mozjpeg'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> imageminPngquant <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'imagemin-pngquant'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">addSizeInfo</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">filePath</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> state <span class=\"token operator\">=</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">statSync</span><span class=\"token punctuation\">(</span>filePath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">size</span><span class=\"token operator\">:</span> state<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">,</span>\n    filePath\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> matchesThumbnail <span class=\"token operator\">=</span> glob<span class=\"token punctuation\">.</span><span class=\"token function\">sync</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">src/images/thumbnail/**/*.{png,jpg,jpeg}</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> matchesPage <span class=\"token operator\">=</span> glob<span class=\"token punctuation\">.</span><span class=\"token function\">sync</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">src/pages/**/*.{png,jpg,jpeg}</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>matchesThumbnail<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>matchesPage<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>addSizeInfo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">factor</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> filePath <span class=\"token operator\">=</span> factor<span class=\"token punctuation\">.</span>filePath<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> fileDir <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">dirname</span><span class=\"token punctuation\">(</span>filePath<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">const</span> fileExt <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">extname</span><span class=\"token punctuation\">(</span>filePath<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'.png'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>fileExt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n      <span class=\"token keyword\">await</span> <span class=\"token function\">imagemin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>filePath<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">destination</span><span class=\"token operator\">:</span> fileDir<span class=\"token punctuation\">,</span> <span class=\"token comment\">// overwrite</span>\n        <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token function\">imageminPngquant</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">const</span> compressedSize <span class=\"token operator\">=</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">statSync</span><span class=\"token punctuation\">(</span>filePath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">;</span>    \n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>factor<span class=\"token punctuation\">.</span>size<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> -> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>compressedSize<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>filePath<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">'.jpg'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'.jpeg'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>fileExt<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\n      <span class=\"token keyword\">await</span> <span class=\"token function\">imagemin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>filePath<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">destination</span><span class=\"token operator\">:</span> fileDir<span class=\"token punctuation\">,</span> <span class=\"token comment\">// overwrite</span>\n        <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token function\">imageminMozjpeg</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">const</span> compressedSize <span class=\"token operator\">=</span> fs<span class=\"token punctuation\">.</span><span class=\"token function\">statSync</span><span class=\"token punctuation\">(</span>filePath<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">;</span>    \n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>factor<span class=\"token punctuation\">.</span>size<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> -> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>compressedSize<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>filePath<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Can't optimize\"</span><span class=\"token punctuation\">,</span> filePath<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<div class=\"gatsby-code-title\">package.jsonã®npm</div>\n<div class=\"gatsby-highlight\" data-language=\"jsonscripts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jsonscripts line-numbers\"><code class=\"language-jsonscripts\">  &quot;scripts&quot;: {\n    // ä¸­ç•¥\n    &quot;compressImages&quot;: &quot;node ./scripts/compress-images.js&quot;,\n    // ä¸­ç•¥\n  }</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<p>ã“ã†ã™ã‚Œã°<code class=\"language-text\">npm run compressImages</code>ã§ç”»åƒã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã‚’åœ§ç¸®ã§ãã¾ã™ã€‚</p>\n<h2 id=\"6-ç”Ÿæˆã™ã‚‹ç”»åƒã‚’ã‚·ãƒ³ãƒ—ãƒ«ä½ã‚¯ã‚ªãƒªãƒ†ã‚£ã«ã™ã‚‹\" style=\"position:relative;\"><a href=\"#6-%E7%94%9F%E6%88%90%E3%81%99%E3%82%8B%E7%94%BB%E5%83%8F%E3%82%92%E3%82%B7%E3%83%B3%E3%83%97%E3%83%AB%E4%BD%8E%E3%82%AF%E3%82%AA%E3%83%AA%E3%83%86%E3%82%A3%E3%81%AB%E3%81%99%E3%82%8B\" aria-label=\"6 ç”Ÿæˆã™ã‚‹ç”»åƒã‚’ã‚·ãƒ³ãƒ—ãƒ«ä½ã‚¯ã‚ªãƒªãƒ†ã‚£ã«ã™ã‚‹ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. ç”Ÿæˆã™ã‚‹ç”»åƒã‚’ã‚·ãƒ³ãƒ—ãƒ«ï¼†ä½ã‚¯ã‚ªãƒªãƒ†ã‚£ã«ã™ã‚‹</h2>\n<p><a href=\"https://www.gatsbyjs.org/packages/gatsby-image/#gatsby-transformer-sharp\">gatsby-image</a>ã§ã¯ã€ç”Ÿæˆã™ã‚‹ç”»åƒã®ç¨®é¡ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«é¸æŠã§ãã¾ã™ã€‚\nãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œã™ã‚‹å ´åˆ<code class=\"language-text\">Fluid</code>ç³»ã®ç”»åƒã®æŒ‡å®šãŒå¿…é ˆã§ã™ãŒã€\n<code class=\"language-text\">GatsbyImageSharpFluid_tracedSVG</code>ã‚„<code class=\"language-text\">GatsbyImageSharpFluid_withWebp</code>ã¯SVGã‚„Webpãªã©ã®ç”»åƒã‚‚ä½µã›ã¦ç”Ÿæˆã™ã‚‹ã“ã¨ã«ãªã‚‹ã®ã§ã€ãƒ“ãƒ«ãƒ‰æ™‚é–“ã¯é•·ããªã£ã¦ã—ã¾ã„ã¾ã™ã€‚ã€€ç‰¹ã«ã“ã ã‚ã‚ŠãŒãªã‘ã‚Œã°ä¸€ç•ªã‚·ãƒ³ãƒ—ãƒ«ãª<code class=\"language-text\">GatsbyImageSharpFluid</code>ã‚’é¸æŠã™ã‚‹ã¨ãƒ“ãƒ«ãƒ‰æ™‚é–“ãŒçŸ­ç¸®ã§ãã‚‹ã§ã—ã‚‡ã†ã€‚</p>\n<ul>\n<li><code class=\"language-text\">GatsbyImageSharpFixed</code> â† Fixedç³»ã¯ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ã ã¨ä½¿ãˆãªã„</li>\n<li><code class=\"language-text\">GatsbyImageSharpFixed_noBase64</code></li>\n<li><code class=\"language-text\">GatsbyImageSharpFixed_tracedSVG</code></li>\n<li><code class=\"language-text\">GatsbyImageSharpFixed_withWebp</code></li>\n<li><code class=\"language-text\">GatsbyImageSharpFixed_withWebp_noBase64</code></li>\n<li><code class=\"language-text\">GatsbyImageSharpFixed_withWebp_tracedSVG</code></li>\n<li><code class=\"language-text\">GatsbyImageSharpFluid</code> â† ã‚·ãƒ³ãƒ—ãƒ«</li>\n<li><code class=\"language-text\">GatsbyImageSharpFluid_noBase64</code> â† æœ€åˆã«è¡¨ç¤ºã™ã‚‹Base64ã®ã¼ã‹ã—ç”»åƒãŒãªã„ãŒã€ãã‚Œã§ã„ã„ãªã‚‰ä¸€ç•ªã‚·ãƒ³ãƒ—ãƒ«</li>\n<li><code class=\"language-text\">GatsbyImageSharpFluid_tracedSVG</code> â† SVGã‚’ç”Ÿæˆã™ã‚‹ã®ã§ãƒ“ãƒ«ãƒ‰æ™‚é–“ãŒé•·ããªã‚‹</li>\n<li><code class=\"language-text\">GatsbyImageSharpFluid_withWebp</code> â† Webpã‚’ç”Ÿæˆã™ã‚‹ã®ã§ãƒ“ãƒ«ãƒ‰æ™‚é–“ãŒé•·ããªã‚‹</li>\n<li><code class=\"language-text\">GatsbyImageSharpFluid_withWebp_noBase64</code></li>\n<li><code class=\"language-text\">GatsbyImageSharpFluid_withWebp_tracedSVG</code> &#x3C;-SVGã¨Webpã‚’ç”Ÿæˆã™ã‚‹ã®ã§ãƒ“ãƒ«ãƒ‰æ™‚é–“ãŒã‹ãªã‚Šé•·ããªã‚‹</li>\n<li><code class=\"language-text\">GatsbyImageSharpFluidLimitPresentationSize</code></li>\n</ul>\n<p>ã¾ãŸã€ã‚¯ã‚¨ãƒªã§ç”Ÿæˆç”»åƒã®ã‚¯ã‚ªãƒªãƒ†ã‚£ã‚’æŒ‡å®šã§ãã¾ã™ã€‚\nã‚¯ã‚ªãƒªãƒ†ã‚£ã‚ã‚‹ç¨‹åº¦å¦¥å”ã§ãã‚‹ãªã‚‰ã°ã€ä½ã„å€¤ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ãƒ“ãƒ«ãƒ‰æ™‚é–“ã‚’çŸ­ç¸®ã§ãã¾ã™ã€‚</p>\n<div class=\"gatsby-code-title\">ã‚¯ã‚ªãƒªãƒ†ã‚£ã‚’ä¸‹ã’ã‚‹ã“ã¨ã§ãƒ“ãƒ«ãƒ‰æ™‚é–“ã‚’çŸ­ç¸®ã™ã‚‹</div>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"graphql\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-graphql line-numbers\"><code class=\"language-graphql\">  <span class=\"token keyword\">query</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token attr-name\">images</span><span class=\"token punctuation\">:</span> <span class=\"token property-query\">allFile</span><span class=\"token punctuation\">(</span><span class=\"token attr-name\">filter</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token attr-name\">relativePath</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token attr-name\">regex</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"/^thumbnail/*/\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token object\">edges</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token object\">node</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token object\">childImageSharp</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token property-query\">fluid</span><span class=\"token punctuation\">(</span>\n              <span class=\"token attr-name\">maxWidth</span><span class=\"token punctuation\">:</span> <span class=\"token number\">800</span><span class=\"token punctuation\">,</span>\n<span class=\"gatsby-highlight-code-line\">              <span class=\"token attr-name\">quality</span><span class=\"token punctuation\">:</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">              <span class=\"token attr-name\">pngQuality</span><span class=\"token punctuation\">:</span> <span class=\"token number\">50</span></span>            <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token operator\">...</span><span class=\"token fragment function\">GatsbyImageSharpFluid</span>\n            <span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<h2 id=\"7-netlify-plugin-gatsby-cacheã‚’ä½¿ã†\" style=\"position:relative;\"><a href=\"#7-netlify-plugin-gatsby-cache%E3%82%92%E4%BD%BF%E3%81%86\" aria-label=\"7 netlify plugin gatsby cacheã‚’ä½¿ã† permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>7. netlify-plugin-gatsby-cacheã‚’ä½¿ã†</h2>\n<p>Netlifyã§ãƒ“ãƒ«ãƒ‰ï¼†ãƒ›ã‚¹ãƒˆã—ã¦ã„ã‚‹ãªã‚‰ã€<a href=\"https://github.com/jlengstorf/netlify-plugin-gatsby-cache\">netlify-plugin-gatsby-cache</a>ãŒä½¿ãˆã¾ã™ã€‚\nã“ã‚Œã¯å‰å›ãƒ“ãƒ«ãƒ‰æ™‚ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ç”¨ã„ã¦ãƒ“ãƒ«ãƒ‰æ™‚é–“ã‚’çŸ­ç¸®ã™ã‚‹ãŸã‚ã®Netlifyãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã™ã€‚\n<strong>è‡ªåˆ†ã¯ã€ã‚³ãƒ¬ã‚’å°å…¥ã—ãŸãŠã‹ã’ã§ã€è¨˜äº‹ã‚’è¿½åŠ ã™ã‚‹ã ã‘ãªã‚‰ãƒ“ãƒ«ãƒ‰æ™‚é–“ãŒ2åˆ†ç¨‹åº¦ã§æ¸ˆã‚€ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚</strong></p>\n<p>ä»¥ä¸‹ã®ã‚ˆã†ã«<code class=\"language-text\">netlify.toml</code>ã‚’è¨­å®šã—ã€package.jsonã®npm scriptã§<code class=\"language-text\">gatsby build</code>ã«ã¡ã‚‡ã£ã¨ã—ãŸå¼•æ•°ã‚’æŒ‡å®šã™ã‚‹ã ã‘ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒæœ‰åŠ¹ã«ãªã‚Šã¾ã™ã€‚</p>\n<div class=\"gatsby-code-title\">netlify.toml(Netlifyã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«)</div>\n<div class=\"gatsby-highlight\" data-language=\"toml\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-toml line-numbers\"><code class=\"language-toml\">// ä¸­ç•¥\n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token table class-name\">plugins</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span>\n  <span class=\"token key property\">package</span> <span class=\"token punctuation\">=</span> <span class=\"token string\">\"netlify-plugin-gatsby-cache\"</span>\n// ä¸­ç•¥</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<div class=\"gatsby-code-title\">package.jsonã®npm</div>\n<div class=\"gatsby-highlight\" data-language=\"jsonscripts\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jsonscripts line-numbers\"><code class=\"language-jsonscripts\">  &quot;scripts&quot;: {\n    // ä¸­ç•¥\n    &quot;build&quot;: &quot;GATSBY_EXPERIMENTAL_PAGE_BUILD_ON_DATA_CHANGES=true gatsby-parallel-runner build --log-pages&quot;,\n    // ä¸­ç•¥\n  }\n</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<p>ãŸã ã€ã“ã¡ã‚‰ã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ä½¿ã£ãŸãƒ“ãƒ«ãƒ‰æ™‚é–“çŸ­ç¸®æ–¹æ³•ã§ã™ã®ã§ã€åˆå›ã®ãƒ“ãƒ«ãƒ‰ã¯çŸ­ç¸®ã•ã‚Œã¾ã›ã‚“ã€‚\nNetlifyã®ãƒ“ãƒ«ãƒ‰ã§ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’è§£æ±ºã—ãŸã„å ´åˆã®æ ¹æœ¬çš„ãªè§£æ±ºç­–ã«ã¯ãªã‚‰ãªã„ã®ã§ã€æ°—ã‚’ã¤ã‘ã¦ãã ã•ã„ã€‚\nã‚­ãƒ£ãƒƒã‚·ãƒ¥ã§ãƒ“ãƒ«ãƒ‰æ™‚é–“ãŒã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆæ™‚é–“ä»¥å†…ã«åã¾ã£ã¦ã„ãŸã¨ã—ã¦ã‚‚ã€ãƒ‰ãƒ©ã‚¹ãƒ†ã‚£ãƒƒã‚¯ãªæ©Ÿèƒ½æ”¹ä¿®ã§ã»ã¨ã‚“ã©ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒåŠ¹ã‹ãªã„å ´åˆã‚„ã€ãªã‚“ã‚‰ã‹ã®ä¸å…·åˆã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãªã—ã§ã‚¯ãƒªãƒ¼ãƒ³ãƒ“ãƒ«ãƒ‰ãŒå¿…è¦ã«ãªã£ãŸå ´åˆã€çµå±€ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆãŒç™ºç”Ÿã—ã¦ã—ã¾ã„ã¾ã™ã€‚\nã“ã®å ´åˆã¯å…ˆã«ã‚ã’ãŸ1ï½6ã®Tipsã‚’å®Ÿæ–½ã—ã¦ã€æ ¹æœ¬çš„ãªãƒ“ãƒ«ãƒ‰æ™‚é–“ã®çŸ­ç¸®ã‚’å›³ã£ã¦ãã ã•ã„ã€‚</p>\n<h2 id=\"ç•ªå¤–ç·¨1-circle-ciã§ãƒ“ãƒ«ãƒ‰ã—ã¦netlifyã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹\" style=\"position:relative;\"><a href=\"#%E7%95%AA%E5%A4%96%E7%B7%A81-circle-ci%E3%81%A7%E3%83%93%E3%83%AB%E3%83%89%E3%81%97%E3%81%A6netlify%E3%81%AB%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4%E3%81%99%E3%82%8B\" aria-label=\"ç•ªå¤–ç·¨1 circle ciã§ãƒ“ãƒ«ãƒ‰ã—ã¦netlifyã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ç•ªå¤–ç·¨1: Circle CIã§ãƒ“ãƒ«ãƒ‰ã—ã¦Netlifyã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹</h2>\n<p>æœ¬ç·šã‹ã‚‰ã¯å°‘ã—è„±ç·šã—ã¾ã™ãŒã€ã©ã†ã—ã¦ã‚‚Netlifyã§ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå•é¡ŒãŒå…‹æœã§ããªã„ or ãƒ“ãƒ«ãƒ‰æ™‚é–“ãŒå®‰å®šã—ãªã„æ™‚ã¯CircleCIã‚’ä½¿ã£ã¦ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã¨è‰¯ã„ã§ã™ã€‚Netlifyå´ã§ã‚³ã‚±ã¦ã‚‚ã€CircleCIã§ãƒ“ãƒ«ãƒ‰æ¤œè¨¼ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nCircleCIã¯ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã«ãªã‚‹å¿ƒé…ã‚‚ãªã„ã—ã€Netlifyã‚ˆã‚Šå°‘ã—ãƒ“ãƒ«ãƒ‰ãŒæ—©ããªã‚Šã¾ã™ã€‚</p>\n<p>é–‹ç™ºç”¨ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«<a href=\"https://github.com/netlify/cli\">netlify-cli</a>ã—ã¦ä»¥ä¸‹ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®šç¾©ã—ã¾ã—ã‚‡ã†ã€‚\nãªã‚‹ã¹ãã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ã¦æ¬¡å›ä»¥é™ã®ãƒ“ãƒ«ãƒ‰æ™‚é–“ã‚’çŸ­ç¸®ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nãƒ“ãƒ«ãƒ‰ãŒçµ‚ã‚ã£ãŸã‚‰ã€netlify-cliã§ãƒ“ãƒ«ãƒ‰è³‡ç”£ã‚’Netlifyã«deployã—ã¦ã„ã¾ã™ã€‚\nmasterãƒ–ãƒ©ãƒ³ãƒã®å ´åˆã¯<code class=\"language-text\">--prod</code>ã‚’æŒ‡å®šã—ã¦æœ¬ãƒãƒ£ãƒ³deployã«ãªã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\ndeployæ™‚ã¯ã€Netlifyã®ãƒˆãƒ¼ã‚¯ãƒ³ãŒå¿…è¦ã«ãªã‚‹ã®ã§ã€äº‹å‰ã«Netlifyã§ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç™ºè¡Œã—ã¦ã€CircleCIã®ç’°å¢ƒå¤‰æ•°ã«è¨­å®šã—ã¦ã‚ã’ã¾ã—ã‚‡ã†ã€‚</p>\n<div class=\"gatsby-code-title\">.circleci/config.yml(CircleCIã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«)</div>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-yaml line-numbers\"><code class=\"language-yaml\"><span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2.1</span>\n<span class=\"token key atrule\">executors</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">node-executor</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">docker</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> circleci/node<span class=\"token punctuation\">:</span><span class=\"token number\">12</span>\n<span class=\"token key atrule\">commands</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">gatsby-build</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> checkout\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">restore_cache</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">keys</span><span class=\"token punctuation\">:</span>\n            <span class=\"token comment\"># when lock file changes, use increasingly general patterns to restore cache</span>\n            <span class=\"token punctuation\">-</span> node<span class=\"token punctuation\">-</span>v1<span class=\"token punctuation\">-</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> .Branch <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">-</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> checksum \"package<span class=\"token punctuation\">-</span>lock.json\" <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">-</span> node<span class=\"token punctuation\">-</span>v1<span class=\"token punctuation\">-</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> .Branch <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">-</span>\n            <span class=\"token punctuation\">-</span> node<span class=\"token punctuation\">-</span>v1<span class=\"token punctuation\">-</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> npm install\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">save_cache</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">paths</span><span class=\"token punctuation\">:</span>\n            <span class=\"token punctuation\">-</span> ~/usr/local/lib/node_modules  <span class=\"token comment\"># location depends on npm version</span>\n          <span class=\"token key atrule\">key</span><span class=\"token punctuation\">:</span> node<span class=\"token punctuation\">-</span>v1<span class=\"token punctuation\">-</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> .Branch <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">-</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> checksum \"package<span class=\"token punctuation\">-</span>lock.json\" <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">restore_cache</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">keys</span><span class=\"token punctuation\">:</span>\n            <span class=\"token punctuation\">-</span> gatsby<span class=\"token punctuation\">-</span>public<span class=\"token punctuation\">-</span>cache<span class=\"token punctuation\">-</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> .Branch <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">-</span> gatsby<span class=\"token punctuation\">-</span>public<span class=\"token punctuation\">-</span>cache<span class=\"token punctuation\">-</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> GATSBY_CPU_COUNT=2 NODE_OPTIONS=\"<span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>max<span class=\"token punctuation\">-</span>old<span class=\"token punctuation\">-</span>space<span class=\"token punctuation\">-</span>size=8192\" npm run build\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">save_cache</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">key</span><span class=\"token punctuation\">:</span> gatsby<span class=\"token punctuation\">-</span>public<span class=\"token punctuation\">-</span>cache<span class=\"token punctuation\">-</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> .Branch <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">paths</span><span class=\"token punctuation\">:</span>\n            <span class=\"token punctuation\">-</span> ./public\n<span class=\"token key atrule\">workflows</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span>\n  <span class=\"token key atrule\">build-deploy</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">filters</span><span class=\"token punctuation\">:</span>\n            <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n              <span class=\"token key atrule\">ignore</span><span class=\"token punctuation\">:</span>\n                <span class=\"token punctuation\">-</span> master\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">release</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">filters</span><span class=\"token punctuation\">:</span>\n            <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n              <span class=\"token key atrule\">only</span><span class=\"token punctuation\">:</span>\n                <span class=\"token punctuation\">-</span> master\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">executor</span><span class=\"token punctuation\">:</span> node<span class=\"token punctuation\">-</span>executor\n    <span class=\"token key atrule\">working_directory</span><span class=\"token punctuation\">:</span> ~/repo\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> gatsby<span class=\"token punctuation\">-</span>build\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Netlify Deploy\n          <span class=\"token key atrule\">command</span><span class=\"token punctuation\">:</span> ./node_modules/.bin/netlify deploy <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>dir=public <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>message \"deploy preview from $CIRCLE_BRANCH\" <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>auth $NETLIFY_ACCESS_TOKEN\n  <span class=\"token key atrule\">release</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">executor</span><span class=\"token punctuation\">:</span> node<span class=\"token punctuation\">-</span>executor\n    <span class=\"token key atrule\">working_directory</span><span class=\"token punctuation\">:</span> ~/repo\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> gatsby<span class=\"token punctuation\">-</span>build\n        <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Netlify Deploy\n          <span class=\"token key atrule\">command</span><span class=\"token punctuation\">:</span> ./node_modules/.bin/netlify deploy <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>prod <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>dir=public <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>message \"deploy from $CIRCLE_BRANCH\" <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>auth $NETLIFY_ACCESS_TOKEN</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"ç•ªå¤–ç·¨2åŠ¹æœãŒã¿ã‚‰ã‚Œãªã‹ã£ãŸå–ã‚Šçµ„ã¿\" style=\"position:relative;\"><a href=\"#%E7%95%AA%E5%A4%96%E7%B7%A82%E5%8A%B9%E6%9E%9C%E3%81%8C%E3%81%BF%E3%82%89%E3%82%8C%E3%81%AA%E3%81%8B%E3%81%A3%E3%81%9F%E5%8F%96%E3%82%8A%E7%B5%84%E3%81%BF\" aria-label=\"ç•ªå¤–ç·¨2åŠ¹æœãŒã¿ã‚‰ã‚Œãªã‹ã£ãŸå–ã‚Šçµ„ã¿ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ç•ªå¤–ç·¨2:åŠ¹æœãŒã¿ã‚‰ã‚Œãªã‹ã£ãŸå–ã‚Šçµ„ã¿</h2>\n<p>ãƒ“ãƒ«ãƒ‰æ™‚é–“çŸ­ç¸®ã®ãŸã‚ã‚¢ãƒ¬ã‚³ãƒ¬ã¨è©¦ã—ã¾ã—ãŸãŒã€åŠ¹æœãŒãªã‹ã£ãŸã‚‚ã®ã‚‚ã‚ã‚Šã¾ã™ã€‚</p>\n<h3 id=\"ç”»åƒå–å¾—ç³»staticqueryã‚’é›†ç´„ã™ã‚‹\" style=\"position:relative;\"><a href=\"#%E7%94%BB%E5%83%8F%E5%8F%96%E5%BE%97%E7%B3%BBstaticquery%E3%82%92%E9%9B%86%E7%B4%84%E3%81%99%E3%82%8B\" aria-label=\"ç”»åƒå–å¾—ç³»staticqueryã‚’é›†ç´„ã™ã‚‹ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ç”»åƒå–å¾—ç³»StaticQueryã‚’é›†ç´„ã™ã‚‹</h3>\n<p>è¤‡æ•°ç®‡æ‰€ã«æ•£ã‚‰ã°ã£ã¦ã„StaticQueryã‚’ï¼‘ã¤ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«é›†ç´„ã—ã¦ã¿ã¾ã—ãŸã€‚\nç¢ºã‹ã«ã‚¯ã‚¨ãƒªã®å®Ÿè¡Œå›æ•°ã¯æ¸›ã‚Šã¾ã—ãŸãŒã€ç”»åƒç”Ÿæˆæšæ•°ã¯å¤‰ã‚ã‚‰ãªã„ã®ã§ãƒ“ãƒ«ãƒ‰æ™‚é–“ã¯çŸ­ç¸®ã•ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚</p>\n<h3 id=\"ã‚¯ã‚¨ãƒªã‚’gatsby-nodejsã«é›†ç´„ã™ã‚‹\" style=\"position:relative;\"><a href=\"#%E3%82%AF%E3%82%A8%E3%83%AA%E3%82%92gatsby-nodejs%E3%81%AB%E9%9B%86%E7%B4%84%E3%81%99%E3%82%8B\" aria-label=\"ã‚¯ã‚¨ãƒªã‚’gatsby nodejsã«é›†ç´„ã™ã‚‹ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ã‚¯ã‚¨ãƒªã‚’gatsby-node.jsã«é›†ç´„ã™ã‚‹</h3>\n<p>ä¸Šè¨˜ã¨ä¼¼ã¦ã„ã¾ã™ãŒã€ã™ã¹ã¦ã®ã‚¯ã‚¨ãƒªã‚’<code class=\"language-text\">gatsby-node.js</code>ã§ç™ºè¡Œã—ã¦ã€ã‚¯ã‚¨ãƒªã®çµæœã‚’Contextã§å„ãƒšãƒ¼ã‚¸ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«æ¸¡ã™ã‚ˆã†ã«ã—ã¦ã‚‚ã€ãƒ“ãƒ«ãƒ‰æ™‚é–“ã¯çŸ­ç¸®ã•ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚</p>\n<p>ã¾ãŸ<code class=\"language-text\">gatsby-node.js</code>ã«ã‚¯ã‚¨ãƒªã‚’é›†ç´„ã™ã‚‹ã®ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ãªå¼Šå®³ã‚‚ã‚ã‚‹ãŸã‚ã€ã‚ã¾ã‚Šã‚ªã‚¹ã‚¹ãƒ¡ã—ã¾ã›ã‚“ã€‚</p>\n<ul>\n<li><code class=\"language-text\">gatsby develop</code>æ™‚ã«<code class=\"language-text\">gatsby-node.js</code>ã‚’ä¿®æ­£ã—ã¦ã‚‚ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ã•ã‚Œãªã„</li>\n<li>ãƒšãƒ¼ã‚¸ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ã†ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ãŸã‚ã®ã‚¯ã‚¨ãƒªãŒã€<code class=\"language-text\">gatsby-node.js</code>ã¨ã„ã†é›¢ã‚ŒãŸå ´æ‰€ã«ã‚ã‚‹ã®ã§ç®¡ç†ã—ã¥ã‚‰ã„</li>\n<li>ã‚¯ã‚¨ãƒªã§GraphQLã®ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆãŒä½¿ãˆãªã„\n<ul>\n<li>gatsby-imagesã®GatsbyImageSharpFluidãªã©ãŒä½¿ãˆãªã„ã®ã§ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆã«å®šç¾©ã•ã‚Œã¦ã‚‹å…¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æ›¸ãå‡ºã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-code-title\">gatsby-node.jsä¸­ã§ç”»åƒå–å¾—ã‚¯ã‚¨ãƒªã‚’æ›¸ãå ´åˆã¯ãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆãŒä½¿ãˆãªã„</div>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"graphql\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-graphql line-numbers\"><code class=\"language-graphql\"><span class=\"token keyword\">query</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property-query\">allFile</span><span class=\"token punctuation\">(</span><span class=\"token attr-name\">filter</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token attr-name\">relativePath</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token attr-name\">regex</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"/^thumbnail/*/\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token object\">edges</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token object\">node</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token object\">childImageSharp</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token object\">fluid</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">            <span class=\"token property\">base64</span></span><span class=\"gatsby-highlight-code-line\">            <span class=\"token property\">aspectRatio</span></span><span class=\"gatsby-highlight-code-line\">            <span class=\"token property\">src</span></span><span class=\"gatsby-highlight-code-line\">            <span class=\"token property\">srcSet</span></span><span class=\"gatsby-highlight-code-line\">            <span class=\"token property\">sizes</span></span>          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<h2 id=\"ã¾ã¨ã‚\" style=\"position:relative;\"><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\" aria-label=\"ã¾ã¨ã‚ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ã¾ã¨ã‚</h2>\n<p>Gatsbyã¯å‰²ã¨gatsby-imageã¨ã®æˆ¦ã„ã§ã€ç”»åƒã®å–ã‚Šæ‰±ã„ãŒé¢å€’ãã•ãã€ãƒ“ãƒ«ãƒ‰æ™‚é–“ã‚‚é•·ããªã‚ŠãŒã¡ã§ã™ãŒã€\nä»Šå›ç´¹ä»‹ã—ãŸã‚ˆã†ãªTipsã‚’ä½¿ãˆã°ã€ã‚ã‚‹ç¨‹åº¦ãƒ“ãƒ«ãƒ‰æ™‚é–“ã¯çŸ­ç¸®ã§ãã¾ã™ã€‚\nãŸã ã€ã“ã‚Œã‚‰Tipsã‚’å®Ÿæ–½ã—ã¦ã‚‚ãƒ“ãƒ«ãƒ‰æ™‚é–“ãŒçŸ­ç¸®ã§ããªã„å ´åˆã¯ã€ã„ã£ãã®ã“ã¨gatsby-imageã‚’ä½¿ã†ã®ã‚’ã‚„ã‚ã¦ã€\nä»–ã®ç”»åƒãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ã†ã®ã‚‚ã‚¢ãƒªãªã‚“ã˜ã‚ƒãªã„ã‹ã¨æ€ã„ã¾ã™ğŸ…</p>\n<h2 id=\"å‚è€ƒ\" style=\"position:relative;\"><a href=\"#%E5%8F%82%E8%80%83\" aria-label=\"å‚è€ƒ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>å‚è€ƒ</h2>\n<ul>\n<li><a href=\"https://www.netlify.com/blog/2020/02/25/gatsby-build-speed-improvements-with-parallel-image-processing/\">Improve Gatsby Build Speeds With Parallel Image Processing</a></li>\n<li><a href=\"https://dev.to/biilmann/open-source-parallel-processing-for-gatsby-270d\">Open source parallel processing for Gatsby - DEV Community ğŸ‘©â€ğŸ’»ğŸ‘¨â€ğŸ’»</a></li>\n<li><a href=\"https://www.gatsbyjs.org/docs/preoptimizing-images/\">Preoptimizing Your Images | GatsbyJS</a></li>\n<li><a href=\"https://web.dev/use-imagemin-to-compress-images/\">Use Imagemin to compress images</a></li>\n<li><a href=\"https://www.gatsbyjs.org/packages/gatsby-plugin-sharp\">gatsby-plugin-sharp | GatsbyJS</a></li>\n<li><a href=\"https://www.netlify.com/blog/2020/04/23/enable-gatsby-incremental-builds-on-netlify/\">Enable Gatsby Incremental Builds on Netlify</a></li>\n<li><a href=\"https://oioannou.com/build-on-circleci-deploy-netlify\">Building gatsby on CircleCi and deploying on Netlify â€” Orestis Ioannou</a></li>\n<li><a href=\"https://web.dev/use-imagemin-to-compress-images/\">Use Imagemin to compress images</a></li>\n<li><a href=\"https://www.netlify.com/blog/2020/06/11/5-optimizations-for-faster-gatsby-builds/\">5 Optimizations to Get Faster Gatsby Builds Today</a></li>\n</ul>","excerpt":"ãªã«ã“ã‚Œ è‡ªåˆ†ã®ãƒ–ãƒ­ã‚°(Gatsbyè£½)ã®ãƒ“ãƒ«ãƒ‰ãŒé…ã™ãã¦Netlifyã§ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¦ã—ã¾ã†ã®ã§ã€ãƒ“ãƒ«ãƒ‰ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã‚’ã—ã¾ã—ãŸã€‚\n15åˆ†ä»¥ä¸Šã‹ã‹ã£ã¦ã„ãŸãƒ“ãƒ«ãƒ‰ãŒ7åˆ†ä»¥ä¸‹ã«ãªã‚Š50%çŸ­ç¸®ã§ããŸã®ã§ã€ãã®æ™‚ã®çŸ¥è¦‹ã‚’ã¾ã¨ã‚ã¾ã™ã€‚\nå‰²ã¨åœ°å‘³ãªä½œæ¥­ãŒå¤šã„ã§ã™ãŒã€Gatsbyâ€¦","frontmatter":{"slug":"/optimizations-for-faster-gatsby-builds","title":"Gatsbyãƒ“ãƒ«ãƒ‰ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚° ãƒ“ãƒ«ãƒ‰æ™‚é–“ã‚’15åˆ†ã‹ã‚‰7åˆ†ã«çŸ­ç¸®ã™ã‚‹ãŸã‚ã®Tips 7é¸","date":"2020-06-22T08:30:00.000+09:00","tags":["Gatsby","gatsby-image","gatsby-image-sharp","Netlify","CircleCI"],"keywords":["Gatsby"],"thumbnail":"thumbnail/2020/06/optimizations-for-faster-gatsby-builds.png","category":null}}],"tag":"gatsby-image-sharp","tagCounts":[{"text":"Gatsby","size":26},{"text":"ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰","size":11},{"text":"AutoHotkey","size":10},{"text":"ä½œæ¥­åŠ¹ç‡åŒ–","size":10},{"text":"React","size":8},{"text":"Vue.js","size":8},{"text":"GraphQL","size":6},{"text":"AWS","size":5},{"text":"AppSync","size":5},{"text":"Vuetify","size":5},{"text":"GatsbyPlugin","size":4},{"text":"Netlify","size":3},{"text":"VueI18n","size":3},{"text":"WordCloud","size":3},{"text":"d3.js","size":3},{"text":"d3Cloud","size":3},{"text":"kuromoji.js","size":3},{"text":"mdx-deck","size":3},{"text":"ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–","size":3},{"text":"å‹‰å¼·ä¼š","size":3},{"text":"å½¢æ…‹ç´ è§£æ","size":3},{"text":"Apollo Client","size":2},{"text":"Cognito","size":2},{"text":"CrossPlatform","size":2},{"text":"LT","size":2},{"text":"Mobile","size":2},{"text":"Node.js","size":2},{"text":"Nuxt.js","size":2},{"text":"ReactNative","size":2},{"text":"SNS","size":2},{"text":"SRE","size":2},{"text":"VeeValidate","size":2},{"text":"code-surfer","size":2},{"text":"gatsby-image","size":2},{"text":"markdown","size":2},{"text":"mdx","size":2},{"text":"ã‚¹ãƒ©ã‚¤ãƒ‰","size":2},{"text":"ãƒ–ãƒ­ã‚°","size":2},{"text":"ãƒ—ãƒ¬ã‚¼ãƒ³","size":2},{"text":"èª­æ›¸æ„Ÿæƒ³","size":2},{"text":"Amplify","size":1},{"text":"Axios","size":1},{"text":"CSS","size":1},{"text":"CSSModules","size":1},{"text":"CircleCI","size":1},{"text":"Connpass","size":1},{"text":"Cytoscape.js","size":1},{"text":"DynamoDB","size":1},{"text":"Flutter","size":1},{"text":"Fromik","size":1},{"text":"Gatsby theme","size":1},{"text":"Git","size":1},{"text":"GitHub","size":1},{"text":"Github-Pages","size":1},{"text":"Graphpack","size":1},{"text":"HttpsåŒ–","size":1},{"text":"Hugo","size":1},{"text":"Iframely","size":1},{"text":"Ionic","size":1},{"text":"JJUG CCC","size":1},{"text":"JSON-LD","size":1},{"text":"Java","size":1},{"text":"JavaScript","size":1},{"text":"Kotlin","size":1},{"text":"NetlifyForms","size":1},{"text":"OGP","size":1},{"text":"PWA","size":1},{"text":"RSS","size":1},{"text":"SER","size":1},{"text":"Schema-org","size":1},{"text":"Vim","size":1},{"text":"Vimium","size":1},{"text":"Vuex","size":1},{"text":"Windows","size":1},{"text":"Zapier","size":1},{"text":"clip-path","size":1},{"text":"gatsby-image-sharp","size":1},{"text":"gatsby-plugin-feed","size":1},{"text":"gatsy-image","size":1},{"text":"golang","size":1},{"text":"oEmbed","size":1},{"text":"rehype","size":1},{"text":"remark","size":1},{"text":"serverless","size":1},{"text":"typescript","size":1},{"text":"unified","size":1},{"text":"ã‚¤ãƒ™ãƒ³ãƒˆãƒ¬ãƒãƒ¼ãƒˆ","size":1},{"text":"ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³","size":1},{"text":"ãƒ‡ãƒ¥ã‚¢ãƒ«ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰","size":1},{"text":"ãƒ‘ã‚½ã‚³ãƒ³","size":1},{"text":"ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯","size":1},{"text":"ãƒ©ãƒ³ãƒãƒ£ãƒ¼","size":1},{"text":"åŸ‹ã‚è¾¼ã¿ã‚³ãƒ¼ãƒ‰","size":1},{"text":"è‚©ã“ã‚Š","size":1}]}},"staticQueryHashes":["3868140423","4185443638","467257065"],"slicesMap":{}}