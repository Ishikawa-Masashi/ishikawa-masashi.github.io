{"componentChunkName":"component---src-templates-tags-template-tsx","path":"/tags/connpass/","result":{"pageContext":{"nodes":[{"html":"<h2 id=\"ãªã«ã“ã‚Œ\" style=\"position:relative;\"><a href=\"#%E3%81%AA%E3%81%AB%E3%81%93%E3%82%8C\" aria-label=\"ãªã«ã“ã‚Œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ãªã«ã“ã‚Œ</h2>\n<p>Gatsbyè£½ã®ã‚µã‚¤ãƒˆã§Connpassã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¡¨ç¤ºã—ãªã‘ã‚Œã°ãªã‚‰ãšã€<a href=\"https://connpass.com/about/api/\">Conpass API</a>ã‚’ä½¿ã£ãŸã®ã§ã™ãŒã€ã“ã¡ã‚‰ã®APIã§ã¯ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒãŒå–å¾—ã§ãã¾ã›ã‚“ã€‚ãã®ãŸã‚ã‚µãƒ ãƒã‚¤ãƒ«ã¯ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã§å–å¾—ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚å–å¾—è‡ªä½“ã¯å˜ç´”ãªNode.jsã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆãªã®ã§å‰²ã¨ä½¿ã„ã¾ã‚ã—ãŒåŠ¹ãã¨æ€ã„ã¾ã™ã€‚ä»Šå›ã¯ãã®å‚™å¿˜éŒ²ã§ã™ã€‚ã¤ã„ã§ã«Gatsbyã®ãƒ­ãƒ¼ã‚«ãƒ«ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«ã™ã‚‹æ–¹æ³•ã‚‚ã”ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n<h2 id=\"connpass-apiæ‰€æ„Ÿ\" style=\"position:relative;\"><a href=\"#connpass-api%E6%89%80%E6%84%9F\" aria-label=\"connpass apiæ‰€æ„Ÿ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Connpass APIæ‰€æ„Ÿ</h2>\n<p>å°‘ã—ã ã‘ä½¿ã„ã¥ã‚‰ã„ã§ã™ã€‚<br/>\nä»Šå›ã€ã‚°ãƒ«ãƒ¼ãƒ—ã«ç´ã¥ãã‚¤ãƒ™ãƒ³ãƒˆã‚’å–å¾—ã—ãŸã‹ã£ãŸã®ã§<code class=\"language-text\">series_id</code>ã‚’æŒ‡å®šã—ã¾ã—ãŸãŒã€Connpassã®ã‚°ãƒ«ãƒ¼ãƒ—ã®ç”»é¢ã‹ã‚‰ã¯<code class=\"language-text\">series_id</code>ãŒã‚ã‹ã‚‰ãšã€ã‚°ãƒ«ãƒ¼ãƒ—ã«ç´ã¥ãã‚¤ãƒ™ãƒ³ãƒˆã‚’Connpass APIã§å©ã„ã¦ã€ãã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®<code class=\"language-text\">series_id</code>ã‚’ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚<br/>\næ—¥ä»˜ã®ç¯„å›²æŒ‡å®šãŒç‹¬ç‰¹ã§ã€From Toã§ã¯ãªãã€å¹´æœˆã¾ãŸã¯å¹´æœˆæ—¥ã‚’æ•´æ•°ã§è¤‡æ•°æŒ‡å®šã—ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚\n2020å¹´1æœˆã‹ã‚‰3æœˆã¾ã§ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’å–å¾—ã™ã‚‹å ´åˆã¯<code class=\"language-text\">ym=202001, 202001, 202003</code>ã®ã‚ˆã†ãªæ„Ÿã˜ã§ã™ã€‚<br/>\nãªãŠå–å¾—ä»¶æ•°ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯10ä»¶ãªã®ã§ã€ãŸãã•ã‚“ã‚¤ãƒ™ãƒ³ãƒˆã‚’å–å¾—ã™ã‚‹å ´åˆã¯100ä»¶ã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>\n<p>ãã—ã¦ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒã®æƒ…å ±ãŒãƒ¬ã‚¹ãƒãƒ³ã‚¹ã§è¿”ã£ã¦ãã¾ã›ã‚“ã€‚\nè¿”ã£ã¦ãã¦ã‚‚è‰¯ã•ãã†ã§ã™ãŒã€<a href=\"https://connpass.com/about/api/\">Connpass APIã®ãƒšãƒ¼ã‚¸</a>ã§ç´¹ä»‹ã•ã‚Œã¦ã„ã‚‹APIã‚’ä½¿ã£ã¦ã„ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã‚’è¦‹ã¦ã‚‚ã€ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒã‚’è¡¨ç¤ºã—ã¦ã„ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã¯ãªã‹ã£ãŸã§ã€ãŠãã‚‰ãAPIã§ã¯å–å¾—ã§ããªã„ã®ã§ã—ã‚‡ã†ã€‚</p>\n<h2 id=\"ç¾åœ¨æœˆå‰å¾Œã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’å–å¾—ã™ã‚‹ãŸã‚ã®æ¤œç´¢æ¡ä»¶\" style=\"position:relative;\"><a href=\"#%E7%8F%BE%E5%9C%A8%E6%9C%88%E5%89%8D%E5%BE%8C%E3%81%AE%E3%82%A4%E3%83%99%E3%83%B3%E3%83%88%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B%E3%81%9F%E3%82%81%E3%81%AE%E6%A4%9C%E7%B4%A2%E6%9D%A1%E4%BB%B6\" aria-label=\"ç¾åœ¨æœˆå‰å¾Œã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’å–å¾—ã™ã‚‹ãŸã‚ã®æ¤œç´¢æ¡ä»¶ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ç¾åœ¨æœˆå‰å¾Œã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’å–å¾—ã™ã‚‹ãŸã‚ã®æ¤œç´¢æ¡ä»¶</h2>\n<p>å…ˆã«è¿°ã¹ãŸé€šã‚Šæ—¥ä»˜ã®æ¤œç´¢æ¡ä»¶ãŒç‹¬ç‰¹ã§ã€\nã“ã“ã§ã¯ã€ç¾åœ¨æœˆã‹ã‚‰éå»Xãƒ¶æœˆã€æœªæ¥Yãƒ¶æœˆã®ç¯„å›²ã‚’æŒ‡å®šã™ã‚‹æ–¹æ³•ã‚’ç¤ºã—ã¾ã™ã€‚\nå¿µã®ç‚ºã€ã©ã‚“ãªãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã‚‚æ­£ã—ãå‹•ãã‚ˆã†ã«<a href=\"https://date-fns.org/\">date-fns</a>ã¨ã„ã†æ—¥æ™‚ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚</p>\n<div class=\"gatsby-code-title\">param-of-month-range.js(Connpass</div>\n<div class=\"gatsby-highlight\" data-language=\"jsapiã®å¹´æœˆã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ç”Ÿæˆã™ã‚‹å‡¦ç†)\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jsapiã®å¹´æœˆã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ç”Ÿæˆã™ã‚‹å‡¦ç†) line-numbers\"><code class=\"language-jsapiã®å¹´æœˆã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ç”Ÿæˆã™ã‚‹å‡¦ç†)\">// æ™‚é–“è¨ˆç®—ãªã©ã®å‡¦ç†ã¯æ—¥æœ¬ã®ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã§è¡Œã†\nconst TIME_ZONE_FOR_CONNPASS_API = &#39;Asia/Tokyo&#39;;\nconst YEAR_MONTH_FORMAT_FOR_CONNPASS_API = &#39;YYYYMM&#39;;\nconst { startOfMonth, addMonths, format } = require(&#39;date-fns&#39;);\nconst { convertToTimeZone } = require(&#39;date-fns-timezone&#39;);\n\n// Connpass APIã®ä»•æ§˜(https://connpass.com/about/api/)ã«å¾“ã£ã¦\n// æœ€è¿‘é–‹å‚¬ã•ã‚ŒãŸ/ã•ã‚Œã‚‹ã‚¤ãƒ™ãƒ³ãƒˆã«çµã‚Šè¾¼ã‚€ãŸã‚ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ã‚’ç”Ÿæˆã™ã‚‹\n// çµæœã¯ `202001,202002,202003` ã®ã‚ˆã†ãªæ–‡å­—åˆ—\nfunction paramOfMonthRange(monthRangePast, monthRangeFuture) {\n  const targetYearAndMonths = [];\n  const startOfCurrentMonth = startOfMonth(convertToTimeZone(new Date(), { timeZone: TIME_ZONE_FOR_CONNPASS_API }));\n\n  for(let i = - monthRangePast; i &lt; monthRangeFuture; i++) {\n    const target = addMonths(startOfCurrentMonth, i);\n    const targetStr = format(target, YEAR_MONTH_FORMAT_FOR_CONNPASS_API);\n    targetYearAndMonths.push(targetStr);\n  }\n\n  return targetYearAndMonths.join(&#39;,&#39;);\n}\n\n\nexports.paramOfMonthRange = paramOfMonthRange;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<h2 id=\"ã‚µãƒ ãƒã‚¤ãƒ«ã®ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°\" style=\"position:relative;\"><a href=\"#%E3%82%B5%E3%83%A0%E3%83%8D%E3%82%A4%E3%83%AB%E3%81%AE%E3%82%B9%E3%82%AF%E3%83%AC%E3%82%A4%E3%83%94%E3%83%B3%E3%82%B0\" aria-label=\"ã‚µãƒ ãƒã‚¤ãƒ«ã®ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ã‚µãƒ ãƒã‚¤ãƒ«ã®ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°</h2>\n<p>ã¾ãšã¯Connpass APIã§ã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±ã‚’å–å¾—ã—ã¦ã€\nå–å¾—æƒ…å ±ã®ä¸­ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒšãƒ¼ã‚¸ã®URLã‚’å…ƒã«ã€<a href=\"https://github.com/cheeriojs/cheerio\">cheerio</a>ã‚’ä½¿ã£ã¦ã‚¤ãƒ™ãƒ³ãƒˆãƒšãƒ¼ã‚¸HTMLã®headã‚¿ã‚°ã®metaæƒ…å ±ã‹ã‚‰OGPç”»åƒã®URLã‚’å–å¾—ã—ã¾ã™ã€‚\nã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã§503ã‚¨ãƒ©ãƒ¼ã«ãªã‚‰ãªã„ã‚ˆã†Promise.allã§ä¸¦åˆ—å‡¦ç†ã§ä¸€æ°—ã«æŠ•ã’ã‚‹ã“ã¨ã¯ã›ãšã€foræ–‡ã§1ã¤ã¥ã¤é †ç•ªã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚</p>\n<div class=\"gatsby-code-title\">fetch-connpass-events-with-thumbnails.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> axios <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'axios'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> cheerio <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'cheerio'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> paramOfMonthRange <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./param-of-month-range.js'</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">const</span> <span class=\"token constant\">BASE_URL</span> <span class=\"token operator\">=</span> <span class=\"token string\">'https://connpass.com/api/v1/event/'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">DEFAULT_MIN_FETCH_COUNT</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">DEFAULT_MAX_FETCH_COUNT</span> <span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">fetchConnpassEventsWithThumbnails</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>\n  eventSeriesIds<span class=\"token punctuation\">,</span>\n  defaultThumbnailUrl<span class=\"token punctuation\">,</span>\n  maxFetchCount<span class=\"token punctuation\">,</span>\n  monthRangePast<span class=\"token punctuation\">,</span>\n  monthRangeFuture<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// å¼•æ•°ãƒã‚§ãƒƒã‚¯ã¯çœç•¥</span>\n\n  <span class=\"token keyword\">const</span> eventsList <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> Promise<span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span>eventSeriesIds<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token parameter\">series_id</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> axios<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token constant\">BASE_URL</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">params</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        series_id<span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">ym</span><span class=\"token operator\">:</span> <span class=\"token function\">paramOfMonthRange</span><span class=\"token punctuation\">(</span>monthRangePast<span class=\"token punctuation\">,</span> monthRangeFuture<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">count</span><span class=\"token operator\">:</span> maxFetchCount<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token function\">attachThumbnailUrl</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>events<span class=\"token punctuation\">,</span> defaultThumbnailUrl<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> eventsList<span class=\"token punctuation\">.</span><span class=\"token function\">flat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">attachThumbnailUrl</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">events<span class=\"token punctuation\">,</span> defaultThumbnailUrl</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> eventUrls <span class=\"token operator\">=</span> events<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span> <span class=\"token operator\">=></span> event<span class=\"token punctuation\">.</span>event_url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> thumbnailUrls <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetchThumbnailUrls</span><span class=\"token punctuation\">(</span>eventUrls<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// å–å¾—ã—ãŸOGPç”»åƒã®URLã‚’ã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±ã«ãƒãƒ¼ã‚¸</span>\n  <span class=\"token keyword\">return</span> events<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span>  thumbnail_url <span class=\"token operator\">=</span> thumbnailUrls<span class=\"token punctuation\">[</span>event<span class=\"token punctuation\">.</span>event_url<span class=\"token punctuation\">]</span> <span class=\"token operator\">||</span> defaultThumbnailUrl<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">assign</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> event<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> thumbnail_url <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n\n<span class=\"token comment\">// ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã§HTMLã®headã®metaæƒ…å ±ã‹ã‚‰OGPç”»åƒã®URLã‚’å–å¾—ã™ã‚‹</span>\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">fetchThumbnailUrls</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">eventUrls</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// 503ã‚¨ãƒ©ãƒ¼(ãƒªã‚¯ã‚¨ã‚¹ãƒˆéå¤š)ã«ãªã‚‰ãªã„ã‚ˆã†Promise.allã§ä¸¦åˆ—å‡¦ç†ã¯ã›ãšã€foræ–‡ã§ç›´åˆ—ã§å‡¦ç†ã™ã‚‹</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> url <span class=\"token keyword\">of</span> eventUrls<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> html <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">const</span> $ <span class=\"token operator\">=</span> cheerio<span class=\"token punctuation\">.</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">const</span> thumbnailUrl <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'meta[property=\"og:image\"]'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token string\">'content'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>thumbnailUrl<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        result<span class=\"token punctuation\">[</span>url<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> thumbnailUrl<span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">warn</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">OGP image cloud not found in the url(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>url<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">).</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">warn</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Fetching(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>url<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">) for getting thumbnail url failed.</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nexports<span class=\"token punctuation\">.</span>fetchConnpassEventsWithThumbnails <span class=\"token operator\">=</span> fetchConnpassEventsWithThumbnails<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<h2 id=\"gatsbyãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«ã™ã‚‹å ´åˆ\" style=\"position:relative;\"><a href=\"#gatsby%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%E3%81%AB%E3%81%99%E3%82%8B%E5%A0%B4%E5%90%88\" aria-label=\"gatsbyãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«ã™ã‚‹å ´åˆ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Gatsbyãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«ã™ã‚‹å ´åˆ</h2>\n<p>Gatsbyã®ãƒ“ãƒ«ãƒ‰æ™‚ã«Connpassã®ã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±ã‚’å–å¾—ã—ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®GraphQLã®ã‚¯ã‚¨ãƒªã§å–å¾—ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã«ã¯ä»¥ä¸‹ã‚’å®Ÿæ–½ã—ã¾ã™ã€‚</p>\n<ul>\n<li>è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å®šç¾©</li>\n<li>gatsby-config.jsã§ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ç™»éŒ²</li>\n<li>Gatsbyãƒ­ãƒ¼ã‚«ãƒ«ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½œæˆã€ã“ã®ä¸­ã§å…ˆç¨‹ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆ<code class=\"language-text\">fetch-connpass-events-with-thumbnails.js</code>ã‚’ä½¿ã†</li>\n</ul>\n<br/>\n<p>ã¾ãšã¯ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«æ¸¡ã™å¼•æ•°ã‚’è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§å®šç¾©ã—ã¾ã™ã€‚</p>\n<div class=\"gatsby-code-title\">config/connpass-events.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// è‡ªåˆ†ãŒå–å¾—ã—ãŸã„ã‚°ãƒ«ãƒ¼ãƒ—IDã®SeriesIDã‚’è¨˜è¼‰ã™ã‚‹</span>\n  <span class=\"token literal-property property\">eventSeriesIds</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">'1234'</span><span class=\"token punctuation\">,</span>  <span class=\"token string\">'5678'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// ã‚µãƒ ãƒã‚¤ãƒ«ãŒãªã„ã‚’è€ƒæ…®ã—ã¦ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒã®URLã‚’æŒ‡å®šã™ã‚‹</span>\n  <span class=\"token literal-property property\">defaultThumbnailUrl</span><span class=\"token operator\">:</span> <span class=\"token string\">'https://hogehoge.com/default-thumbnaile-url.png'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">maxFetchCount</span><span class=\"token operator\">:</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">monthRangePast</span><span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">monthRangeFuture</span><span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<p>æ¬¡ã«<code class=\"language-text\">gatsby-config.js</code>ã§ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ç™»éŒ²ã—ã¾ã™ã€‚ã“ã®æ™‚ã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®å€¤ã‚’ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨ã—ã¦æŒ‡å®šã—ã¾ã™ã€‚</p>\n<div class=\"gatsby-code-title\">gatsby-config.js</div>\n<div class=\"gatsby-highlight has-highlighted-lines\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> connpassEvents <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./config/conpass-events'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token comment\">// ä¸­ç•¥</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">resolve</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-source-connpass</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n<span class=\"gatsby-highlight-code-line\">      <span class=\"token literal-property property\">options</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span></span><span class=\"gatsby-highlight-code-line\">        <span class=\"token literal-property property\">eventSeriesIds</span><span class=\"token operator\">:</span> connpassEvents<span class=\"token punctuation\">.</span>eventSeriesIds<span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">        <span class=\"token literal-property property\">defaultThumbnailUrl</span><span class=\"token operator\">:</span> connpassEvents<span class=\"token punctuation\">.</span>defaultThumbnailUrl<span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">        <span class=\"token literal-property property\">maxFetchCount</span><span class=\"token operator\">:</span> connpassEvents<span class=\"token punctuation\">.</span>maxFetchCount<span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">        <span class=\"token literal-property property\">monthRangePast</span><span class=\"token operator\">:</span> connpassEvents<span class=\"token punctuation\">.</span>monthRangePast<span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">        <span class=\"token literal-property property\">monthRangeFuture</span><span class=\"token operator\">:</span> connpassEvents<span class=\"token punctuation\">.</span>monthRangeFuture<span class=\"token punctuation\">,</span></span><span class=\"gatsby-highlight-code-line\">      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></span>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// ä¸­ç•¥</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<p>ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å®šç¾©ã—ã¾ã™ã€‚ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯<code class=\"language-text\">plugins/ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å</code>ã®ãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å®šç¾©ã—ã¾ã™ã€‚\nNode.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãªã®ã§ã€ã“ã‚Œã®ä»–ã«ã‚‚package.jsonãªã©ã®å®šç¾©ãŒå¿…è¦ã§ã™ã€‚</p>\n<div class=\"gatsby-code-title\">plugins/gatsby-source-connpass/gatsby-node.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">const</span> crypto <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"crypto\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> fetchConnpassEventsWithThumbnails <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fetch-connpass-events-with-thumbnails.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token constant\">INTERNAL_TYPE</span> <span class=\"token operator\">=</span> <span class=\"token string\">'connpassEvent'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">DEFAULT_MAX_FETCH_COUNT</span> <span class=\"token operator\">=</span> <span class=\"token number\">100</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token constant\">DEFAULT_MIN_FETCH_COUNT</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token comment\">// æŒ‡å®šã—ãŸã‚¤ãƒ™ãƒ³ãƒˆã‚°ãƒ«ãƒ¼ãƒ—(eventSeriesIds)ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’ã‚µãƒ ãƒã‚¤ãƒ«ä»˜ãã§å–å¾—ã™ã‚‹</span>\nexports<span class=\"token punctuation\">.</span>sourceNodes <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">{</span> actions<span class=\"token punctuation\">,</span> createNodeId <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// Plugin options</span>\n  <span class=\"token punctuation\">{</span> \n    eventSeriesIds<span class=\"token punctuation\">,</span>\n    defaultThumbnailUrl<span class=\"token punctuation\">,</span>\n    maxFetchCount<span class=\"token punctuation\">,</span>\n    monthRangePast<span class=\"token punctuation\">,</span>\n    monthRangeFuture<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token comment\">// å¼•æ•°ãƒã‚§ãƒƒã‚¯ã¯çœç•¥</span>\n\n  <span class=\"token keyword\">const</span> events <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetchConnpassEventsWithThumbnails</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    eventSeriesIds<span class=\"token punctuation\">,</span>\n    defaultThumbnailUrl<span class=\"token punctuation\">,</span>\n    maxFetchCount<span class=\"token punctuation\">,</span>\n    monthRangePast<span class=\"token punctuation\">,</span>\n    monthRangeFuture<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n\n  <span class=\"token comment\">// Connpassã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±ã‚’Nodeã«è¿½åŠ ã—ã¦ã€</span>\n  <span class=\"token comment\">// ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‹ã‚‰GraphQLã®ã‚¯ã‚¨ãƒªã§å–å¾—ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹</span>\n  events<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> contentDigest <span class=\"token operator\">=</span>\n      crypto<span class=\"token punctuation\">.</span><span class=\"token function\">createHash</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">md5</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">update</span><span class=\"token punctuation\">(</span><span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">digest</span><span class=\"token punctuation\">(</span><span class=\"token string\">'hex'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    actions<span class=\"token punctuation\">.</span><span class=\"token function\">createNode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      <span class=\"token operator\">...</span>event<span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">thumbnail_url</span><span class=\"token operator\">:</span> event<span class=\"token punctuation\">.</span>thumbnail_url<span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span> <span class=\"token function\">createNodeId</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">INTERNAL_TYPE</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>event<span class=\"token punctuation\">.</span>event_id<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">children</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">parent</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">__SOURCE__</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">internal</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token constant\">INTERNAL_TYPE</span><span class=\"token punctuation\">,</span>\n        contentDigest<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<p>ã“ã‚Œã«ã‚ˆã‚Šã€Gatsbyã§ãƒ“ãƒ«ãƒ‰ã™ã‚‹æ™‚ã«ã€Connpassã‚¤ãƒ™ãƒ³ãƒˆãŒã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒã®URLä»˜ãã§Nodeã«ç™»éŒ²ã•ã‚Œã¦ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®GraphQLã®ã‚¯ã‚¨ãƒªã§Connpassã‚¤ãƒ™ãƒ³ãƒˆãŒå–å¾—ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>\n<h2 id=\"ã¾ã¨ã‚\" style=\"position:relative;\"><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\" aria-label=\"ã¾ã¨ã‚ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ã¾ã¨ã‚</h2>\n<p>æ‰€æ„Ÿã«ã‚‚æ›¸ã„ãŸé€šã‚Šã€Connpass APIã¯ä½¿ã„ã‚„ã™ã„ã¨ã¯è¨€ãˆã¾ã›ã‚“ã€‚\næ¨™æº–ã§ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒã®URLã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ãã‚ŒãŸã‚‰ã„ã„ã®ã§ã™ãŒã€æ®‹å¿µãªãŒã‚‰ãã†ã§ã¯ãªã„ã®ã§ã€ä»Šå›ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æ›¸ãã«è‡³ã‚Šã¾ã—ãŸã€‚ä»Šå¾Œã‚‚ã©ã“ã‹ã®å ´é¢ã§ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æµç”¨ã—ãã†ã§ã™ã€‚ãŸã ã€Reactã‚¢ãƒ—ãƒªã§Connpassã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’æ¤œç´¢ã—ãŸã„å ´åˆãªã©ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ€§ãŒæ±‚ã‚ã‚‰ã‚Œã‚‹ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã§ã¯ã€ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã«æ™‚é–“ãŒã‹ã‹ã‚‹ã®ã§ã€ã‚µãƒ ãƒã‚¤ãƒ«ã ã‘LazyLoadã™ã‚‹ã‚ˆã†ãªä»•çµ„ã¿ãŒå¿…è¦ã‹ã¨æ€ã„ã¾ã™ğŸ…</p>\n<h2 id=\"å‚è€ƒ\" style=\"position:relative;\"><a href=\"#%E5%8F%82%E8%80%83\" aria-label=\"å‚è€ƒ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>å‚è€ƒ</h2>\n<ul>\n<li><a href=\"https://connpass.com/about/api/\">APIãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ - connpass</a></li>\n</ul>","excerpt":"ãªã«ã“ã‚Œ Gatsbyè£½ã®ã‚µã‚¤ãƒˆã§Connpassã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¡¨ç¤ºã—ãªã‘ã‚Œã°ãªã‚‰ãšã€Conpass APIã‚’ä½¿ã£ãŸã®ã§ã™ãŒã€ã“ã¡ã‚‰ã®APIã§ã¯ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒãŒå–å¾—ã§ãã¾ã›ã‚“ã€‚ãã®ãŸã‚ã‚µãƒ ãƒã‚¤ãƒ«ã¯ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã§å–å¾—ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚å–å¾—è‡ªä½“ã¯å˜ç´”ãªNode.jsâ€¦","frontmatter":{"slug":"/how-to-fetch-connpass-events-with-thumbnails","title":"Connpass APIã§ã‚µãƒ ãƒã‚¤ãƒ«ä»˜ãã®ã‚¤ãƒ™ãƒ³ãƒˆæƒ…å ±ã‚’å–å¾—ã™ã‚‹æ–¹æ³•","date":"2020-06-22T08:00:00.000+09:00","tags":["Connpass","Node.js"],"keywords":["Connpass"],"thumbnail":"thumbnail/2020/06/how-to-fetch-connpass-events-with-thumbnails.png","category":null}}],"tag":"Connpass","tagCounts":[{"text":"Gatsby","size":26},{"text":"ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰","size":11},{"text":"AutoHotkey","size":10},{"text":"ä½œæ¥­åŠ¹ç‡åŒ–","size":10},{"text":"React","size":8},{"text":"Vue.js","size":8},{"text":"GraphQL","size":6},{"text":"AWS","size":5},{"text":"AppSync","size":5},{"text":"Vuetify","size":5},{"text":"GatsbyPlugin","size":4},{"text":"Netlify","size":3},{"text":"VueI18n","size":3},{"text":"WordCloud","size":3},{"text":"d3.js","size":3},{"text":"d3Cloud","size":3},{"text":"kuromoji.js","size":3},{"text":"mdx-deck","size":3},{"text":"ãƒ‡ãƒ¼ã‚¿å¯è¦–åŒ–","size":3},{"text":"å‹‰å¼·ä¼š","size":3},{"text":"å½¢æ…‹ç´ è§£æ","size":3},{"text":"Apollo Client","size":2},{"text":"Cognito","size":2},{"text":"CrossPlatform","size":2},{"text":"LT","size":2},{"text":"Mobile","size":2},{"text":"Node.js","size":2},{"text":"Nuxt.js","size":2},{"text":"ReactNative","size":2},{"text":"SNS","size":2},{"text":"SRE","size":2},{"text":"VeeValidate","size":2},{"text":"code-surfer","size":2},{"text":"gatsby-image","size":2},{"text":"markdown","size":2},{"text":"mdx","size":2},{"text":"ã‚¹ãƒ©ã‚¤ãƒ‰","size":2},{"text":"ãƒ–ãƒ­ã‚°","size":2},{"text":"ãƒ—ãƒ¬ã‚¼ãƒ³","size":2},{"text":"èª­æ›¸æ„Ÿæƒ³","size":2},{"text":"Amplify","size":1},{"text":"Axios","size":1},{"text":"CSS","size":1},{"text":"CSSModules","size":1},{"text":"CircleCI","size":1},{"text":"Connpass","size":1},{"text":"Cytoscape.js","size":1},{"text":"DynamoDB","size":1},{"text":"Flutter","size":1},{"text":"Fromik","size":1},{"text":"Gatsby theme","size":1},{"text":"Git","size":1},{"text":"GitHub","size":1},{"text":"Github-Pages","size":1},{"text":"Graphpack","size":1},{"text":"HttpsåŒ–","size":1},{"text":"Hugo","size":1},{"text":"Iframely","size":1},{"text":"Ionic","size":1},{"text":"JJUG CCC","size":1},{"text":"JSON-LD","size":1},{"text":"Java","size":1},{"text":"JavaScript","size":1},{"text":"Kotlin","size":1},{"text":"NetlifyForms","size":1},{"text":"OGP","size":1},{"text":"PWA","size":1},{"text":"RSS","size":1},{"text":"SER","size":1},{"text":"Schema-org","size":1},{"text":"Vim","size":1},{"text":"Vimium","size":1},{"text":"Vuex","size":1},{"text":"Windows","size":1},{"text":"Zapier","size":1},{"text":"clip-path","size":1},{"text":"gatsby-image-sharp","size":1},{"text":"gatsby-plugin-feed","size":1},{"text":"gatsy-image","size":1},{"text":"golang","size":1},{"text":"oEmbed","size":1},{"text":"rehype","size":1},{"text":"remark","size":1},{"text":"serverless","size":1},{"text":"typescript","size":1},{"text":"unified","size":1},{"text":"ã‚¤ãƒ™ãƒ³ãƒˆãƒ¬ãƒãƒ¼ãƒˆ","size":1},{"text":"ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³","size":1},{"text":"ãƒ‡ãƒ¥ã‚¢ãƒ«ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰","size":1},{"text":"ãƒ‘ã‚½ã‚³ãƒ³","size":1},{"text":"ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯","size":1},{"text":"ãƒ©ãƒ³ãƒãƒ£ãƒ¼","size":1},{"text":"åŸ‹ã‚è¾¼ã¿ã‚³ãƒ¼ãƒ‰","size":1},{"text":"è‚©ã“ã‚Š","size":1}]}},"staticQueryHashes":["3868140423","4185443638","467257065"],"slicesMap":{}}